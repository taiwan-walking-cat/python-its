<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python ITS è­‰ç…§ç·´ç¿’ç³»çµ± - å°ˆæ¥­ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .header .stats-info {
            margin-top: 15px;
            font-size: 0.95rem;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 10px;
        }
        
        /* ç™»å…¥ç•«é¢ */
        .login-screen {
            padding: 60px 40px;
            text-align: center;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        .login-form {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .login-form h2 {
            color: #1e293b;
            margin-bottom: 30px;
            font-size: 1.8rem;
        }
        
        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #374151;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .login-btn:hover {
            background: #2563eb;
        }
        
        .error-message {
            color: #ef4444;
            margin-top: 15px;
            padding: 10px;
            background: #fee2e2;
            border-radius: 5px;
            display: none;
        }
        
        .login-info {
            margin-top: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            font-size: 0.9rem;
            color: #374151;
        }
        
        /* æ­¡è¿ç•«é¢ */
        .welcome-screen {
            padding: 40px;
            text-align: center;
            display: none;
        }
        
        .user-info {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .user-info h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .user-info p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        /* è¨­å®šç•«é¢ */
        .setup-screen {
            padding: 40px;
            display: none;
        }
        
        .setup-form {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .setup-section {
            background: #f8fafc;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border-left: 5px solid #3b82f6;
        }
        
        .setup-section h3 {
            color: #1e293b;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .topic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .topic-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .topic-item:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }
        
        .topic-item input[type="checkbox"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .topic-item.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .topic-info {
            flex: 1;
        }
        
        .topic-name {
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 5px;
        }
        
        .topic-count {
            font-size: 0.85rem;
            color: #64748b;
        }
        
        .difficulty-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .difficulty-option {
            display: flex;
            align-items: center;
            padding: 12px 18px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .difficulty-option input[type="checkbox"] {
            margin-right: 8px;
        }
        
        .difficulty-option.easy { border-color: #10b981; }
        .difficulty-option.medium { border-color: #f59e0b; }
        .difficulty-option.hard { border-color: #ef4444; }
        
        .difficulty-option.easy.selected { background: #d1fae5; }
        .difficulty-option.medium.selected { background: #fef3c7; }
        .difficulty-option.hard.selected { background: #fecaca; }
        
        .question-count {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .count-option {
            padding: 12px 24px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .count-option:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }
        
        .count-option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .start-exam-btn {
            width: 100%;
            padding: 18px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .start-exam-btn:hover {
            background: #059669;
        }
        
        /* çµ±è¨ˆå€åŸŸ */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            background: #f8fafc;
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #3b82f6;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        .timer {
            background: #ef4444;
            color: white;
        }
        
        .timer .stat-number {
            color: white;
        }
        
        .score-display {
            background: #10b981;
            color: white;
        }
        
        .score-display .stat-number {
            color: white;
        }
        
        /* é¡Œç›®å€åŸŸ */
        .question-container {
            padding: 40px;
            display: none;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .question-number {
            background: #3b82f6;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .topic-tag {
            background: #8b5cf6;
            color: white;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .difficulty {
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .difficulty.easy { background: #dcfce7; color: #166534; }
        .difficulty.medium { background: #fef3c7; color: #92400e; }
        .difficulty.hard { background: #fecaca; color: #991b1b; }
        
        .question {
            background: #f8fafc;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #3b82f6;
        }
        
        .question h3 {
            color: #1e293b;
            margin-bottom: 20px;
            font-size: 1.3rem;
            line-height: 1.6;
        }
        
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            overflow-x: auto;
            font-size: 0.95rem;
            line-height: 1.6;
            border: 1px solid #374151;
        }
        
        .options {
            display: grid;
            gap: 15px;
            margin-top: 25px;
        }
        
        .option {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 18px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
        }
        
        .option:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .option.correct {
            border-color: #10b981;
            background: #d1fae5;
        }
        
        .option.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }
        
        .option-letter {
            background: #64748b;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 18px;
            font-weight: bold;
            flex-shrink: 0;
            font-size: 1.1rem;
        }
        
        .option.selected .option-letter {
            background: #3b82f6;
        }
        
        .option.correct .option-letter {
            background: #10b981;
        }
        
        .option.incorrect .option-letter {
            background: #ef4444;
        }
        
        .option-text {
            flex: 1;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid #e2e8f0;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #64748b;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #475569;
        }
        
        .btn-danger {
            background: #ef4444;
            color: white;
        }
        
        .btn-danger:hover {
            background: #dc2626;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .feedback {
            margin-top: 25px;
            padding: 25px;
            border-radius: 12px;
            display: none;
        }
        
        .feedback.correct {
            background: #d1fae5;
            border: 2px solid #10b981;
            color: #065f46;
        }
        
        .feedback.incorrect {
            background: #fee2e2;
            border: 2px solid #ef4444;
            color: #991b1b;
        }
        
        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            border-left: 4px solid #3b82f6;
        }
        
        .explanation h4 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .explanation p {
            line-height: 1.7;
            margin-bottom: 12px;
        }
        
        .explanation .code-example {
            background: #f1f5f9;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 15px 0;
            border: 1px solid #cbd5e1;
        }
        
        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #3b82f6;
        }
        
        .code-example pre {
            margin: 10px 0 0 0;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .code-example code {
            color: #e2e8f0;
        }
        
        .progress-bar {
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1e40af);
            transition: width 0.5s ease;
        }
        
        /* çµæœç•«é¢ */
        .final-score {
            text-align: center;
            padding: 50px;
            display: none;
        }
        
        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .topic-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .topic-stat {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .question-container, .setup-screen, .login-screen, .welcome-screen {
                padding: 20px;
            }
            
            .question-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .topic-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ Python ITS è­‰ç…§ç·´ç¿’ç³»çµ±</h1>
            <p>å°ˆæ¥­ç‰ˆ - åŸºæ–¼æ¬Šå¨æ•™æçš„ç¨‹å¼è¨­è¨ˆèªè­‰æ¨¡æ“¬æ¸¬é©—</p>
            <div class="stats-info">
                ğŸ“š è¶…é800é“ç²¾é¸é¡Œç›® | ğŸ¯ è©³ç´°è§£æèªªæ˜ | âš¡ æ™ºèƒ½å‡ºé¡Œç³»çµ± | ğŸ“– æ¬Šå¨æ•™æé¡Œåº«
            </div>
        </div>
        
        <!-- ç™»å…¥ç•«é¢ -->
        <div class="login-screen" id="loginScreen">
            <div class="login-form">
                <h2>ğŸ” ç³»çµ±ç™»å…¥</h2>
                <div class="form-group">
                    <label for="username">å¸³è™Ÿ</label>
                    <input type="text" id="username" placeholder="è«‹è¼¸å…¥å¸³è™Ÿ" onkeypress="handleEnterKey(event)">
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç¢¼</label>
                    <input type="password" id="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" onkeypress="handleEnterKey(event)">
                </div>
                <button class="login-btn" onclick="login()">ç™»å…¥ç³»çµ±</button>
                <div class="error-message" id="errorMessage">å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼</div>
                
                <div class="login-info">
                    <h4>ğŸ“‹ ç³»çµ±èªªæ˜</h4>
                    <p>â€¢ æœ¬ç³»çµ±æ¡ç”¨å°ˆæ¥­ç´šé¡Œåº«ï¼ŒåŸºæ–¼æ¬Šå¨æ•™æå‡ºé¡Œ</p>
                    <p>â€¢ æ¶µè“‹Pythonç¨‹å¼è¨­è¨ˆå„å€‹é‡è¦é ˜åŸŸ</p>
                    <p>â€¢ æä¾›è©³ç´°è§£æå’Œå­¸ç¿’å»ºè­°</p>
                    <p>â€¢ è«‹ä½¿ç”¨æˆæ¬Šå¸³è™Ÿç™»å…¥ç³»çµ±</p>
                </div>
            </div>
        </div>
        
        <!-- æ­¡è¿ç•«é¢ -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="user-info">
                <h2>ğŸ‰ æ­¡è¿å›ä¾†ï¼</h2>
                <p id="welcomeMessage">CodingAPEï¼Œæº–å‚™é–‹å§‹æ‚¨çš„Pythonå­¸ç¿’ä¹‹æ—…</p>
            </div>
            <button class="start-exam-btn" onclick="showSetup()">é–‹å§‹è¨­å®šæ¸¬é©—</button>
        </div>
        
        <!-- è¨­å®šç•«é¢ -->
        <div class="setup-screen" id="setupScreen">
            <div class="setup-form">
                <h2 style="text-align: center; margin-bottom: 30px; color: #1e293b;">ğŸ“ å®¢è£½åŒ–æ¸¬é©—è¨­å®š</h2>
                
                <div class="setup-section">
                    <h3>ğŸ“š é¸æ“‡è€ƒè©¦ç¯„åœ</h3>
                    <div class="topic-grid" id="topicGrid">
                        <!-- å‹•æ…‹ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="setup-section">
                    <h3>âš¡ é¸æ“‡é›£åº¦ç­‰ç´š</h3>
                    <div class="difficulty-options">
                        <div class="difficulty-option easy selected">
                            <input type="checkbox" id="diff-easy" checked>
                            <label for="diff-easy">ç°¡å–® (åŸºç¤æ¦‚å¿µ)</label>
                        </div>
                        <div class="difficulty-option medium selected">
                            <input type="checkbox" id="diff-medium" checked>
                            <label for="diff-medium">ä¸­ç­‰ (æ‡‰ç”¨å¯¦ä½œ)</label>
                        </div>
                        <div class="difficulty-option hard selected">
                            <input type="checkbox" id="diff-hard" checked>
                            <label for="diff-hard">å›°é›£ (é€²éšæŠ€å·§)</label>
                        </div>
                    </div>
                </div>
                
                <div class="setup-section">
                    <h3>ğŸ¯ é¸æ“‡é¡Œç›®æ•¸é‡</h3>
                    <div class="question-count">
                        <div class="count-option" onclick="selectQuestionCount(20)">20é¡Œ (å¿«é€Ÿæ¸¬é©—)</div>
                        <div class="count-option selected" onclick="selectQuestionCount(30)">30é¡Œ (æ¨™æº–æ¸¬é©—)</div>
                        <div class="count-option" onclick="selectQuestionCount(50)">50é¡Œ (å®Œæ•´æ¸¬é©—)</div>
                        <div class="count-option" onclick="selectQuestionCount(100)">100é¡Œ (æŒ‘æˆ°æ¸¬é©—)</div>
                    </div>
                </div>
                
                <button class="start-exam-btn" onclick="startCustomExam()">ğŸš€ é–‹å§‹å®¢è£½åŒ–æ¸¬é©—</button>
            </div>
        </div>
        
        <!-- çµ±è¨ˆå€åŸŸ -->
        <div class="stats" id="statsBar" style="display: none;">
            <div class="stat-item timer">
                <div class="stat-number" id="timeLeft">60:00</div>
                <div class="stat-label">å‰©é¤˜æ™‚é–“</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="currentQ">1</div>
                <div class="stat-label">ç›®å‰é¡Œç›®</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="totalQ">30</div>
                <div class="stat-label">ç¸½é¡Œæ•¸</div>
            </div>
            <div class="stat-item score-display">
                <div class="stat-number" id="currentScore">0</div>
                <div class="stat-label">ç›®å‰åˆ†æ•¸</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="correctCount">0</div>
                <div class="stat-label">ç­”å°é¡Œæ•¸</div>
            </div>
        </div>
        
        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill" style="width: 3.33%"></div>
        </div>
        
        <!-- é¡Œç›®å€åŸŸ -->
        <div class="question-container" id="questionContainer">
            <div class="question-header">
                <div class="question-number">é¡Œç›® <span id="questionNum">1</span></div>
                <div class="topic-tag" id="topicTag">è®Šæ•¸èˆ‡é‹ç®—å¼</div>
                <div class="difficulty easy" id="difficultyTag">ç°¡å–®</div>
            </div>
            
            <div class="question">
                <h3 id="questionText">è¼‰å…¥ä¸­...</h3>
                <div class="code-block" id="codeBlock" style="display: none;"></div>
            </div>
            
            <div class="options" id="optionsContainer">
                <!-- é¸é …æœƒå‹•æ…‹ç”Ÿæˆ -->
            </div>
            
            <div class="feedback" id="feedback">
                <div class="explanation" id="explanationContainer">
                    <h4>ğŸ’¡ è©³ç´°è§£æ</h4>
                    <div id="explanationContent"></div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">â¬…ï¸ ä¸Šä¸€é¡Œ</button>
                <div>
                    <button class="btn btn-danger" onclick="endExam()">ğŸ çµæŸè€ƒè©¦</button>
                    <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()">âœ… æäº¤ç­”æ¡ˆ</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">â¡ï¸ ä¸‹ä¸€é¡Œ</button>
                </div>
            </div>
        </div>
        
        <!-- çµæœç•«é¢ -->
        <div class="final-score" id="finalScore">
            <div class="score-circle" id="scoreCircle">0</div>
            <h2 id="resultTitle">æ¸¬é©—å®Œæˆï¼</h2>
            <p id="scoreMessage">æ­å–œå®Œæˆæ‰€æœ‰é¡Œç›®</p>
            <div class="topic-stats" id="topicStats"></div>
            <button class="btn btn-primary" onclick="backToSetup()" style="margin-top: 30px;">ğŸ”„ é‡æ–°è¨­å®šæ¸¬é©—</button>
        </div>
    </div>

    <script>
        // ç”¨æˆ¶è³‡æ–™åº«
        const userDatabase = {
            'CAPE18': 'ITS'
        };

        const userProfiles = {
            'CAPE18': {
                name: 'CodingAPE',
                role: 'ç¨‹å¼è¨­è¨ˆå°ˆå®¶',
                level: 'Advanced'
            }
        };

        // ç³»çµ±ç‹€æ…‹
        let currentUser = null;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timeLeft = 3600; // 60åˆ†é˜
        let timer = null;
        let examStartTime = null;
        let selectedTopics = [];
        let selectedDifficulties = ['easy', 'medium', 'hard'];
        let questionCount = 30;

        // è™•ç†Enteréµç™»å…¥
        function handleEnterKey(event) {
            if (event.key === 'Enter') {
                login();
            }
        }

        // ç™»å…¥åŠŸèƒ½
        function login() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');
            
            errorMessage.style.display = 'none';
            
            if (!username || !password) {
                errorMessage.textContent = 'è«‹è¼¸å…¥å¸³è™Ÿå’Œå¯†ç¢¼ï¼';
                errorMessage.style.display = 'block';
                return;
            }
            
            if (userDatabase[username] && userDatabase[username] === password) {
                currentUser = username;
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('welcomeScreen').style.display = 'block';
                
                // è¨­å®šæ­¡è¿è¨Šæ¯
                const profile = userProfiles[username];
                document.getElementById('welcomeMessage').textContent = 
                    `${profile.name}ï¼Œæº–å‚™é–‹å§‹æ‚¨çš„Pythonå­¸ç¿’ä¹‹æ—…`;
                
                showWelcomeMessage(profile.name);
            } else {
                errorMessage.textContent = 'å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼è«‹æª¢æŸ¥å¾Œé‡æ–°è¼¸å…¥ã€‚';
                errorMessage.style.display = 'block';
                document.getElementById('password').value = '';
                
                const loginForm = document.querySelector('.login-form');
                loginForm.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    loginForm.style.animation = '';
                }, 500);
            }
        }

        // é¡¯ç¤ºæ­¡è¿è¨Šæ¯
        function showWelcomeMessage(name) {
            const welcomeMsg = document.createElement('div');
            welcomeMsg.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                z-index: 1000;
                animation: slideIn 0.5s ease;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                font-weight: bold;
            `;
            welcomeMsg.innerHTML = `ğŸ‰ æ­¡è¿ï¼Œ${name}ï¼<br><small>ç™»å…¥æˆåŠŸï¼Œæº–å‚™é–‹å§‹æ¸¬é©—</small>`;
            document.body.appendChild(welcomeMsg);
            
            setTimeout(() => {
                welcomeMsg.style.animation = 'slideOut 0.5s ease forwards';
                setTimeout(() => welcomeMsg.remove(), 500);
            }, 3000);
        }

        // é¡¯ç¤ºè¨­å®šç•«é¢
        function showSetup() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('setupScreen').style.display = 'block';
            initializeTopics();
        }

        // è¶…å¤§å‹å°ˆæ¥­é¡Œåº« (1200+ é¡Œç›®)
        const questionBank = [
            // ç¬¬1ç« ï¼šPythonåŸºç¤èªæ³• (150é¡Œ)
            {
                question: "æ ¹æ“šPythonèªæ³•è¦ç¯„ï¼Œä»¥ä¸‹å“ªå€‹è®Šæ•¸å‘½åæ˜¯æ­£ç¢ºçš„ï¼Ÿ",
                options: ["2variable", "my_variable", "my-variable", "class"],
                correct: 1,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonè®Šæ•¸åç¨±å¿…é ˆä»¥å­—æ¯æˆ–åº•ç·šé–‹é ­ï¼Œä¸èƒ½ä»¥æ•¸å­—é–‹é ­ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨é€£å­—è™Ÿã€‚'class'æ˜¯ä¿ç•™å­—ã€‚è®Šæ•¸å‘½åæ‡‰è©²éµå¾ªsnake_caseæ…£ä¾‹ï¼Œä½¿ç”¨å°å¯«å­—æ¯å’Œåº•ç·šã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬2ç« ï¼šè®Šæ•¸å’Œç°¡å–®è³‡æ–™å‹åˆ¥",
                codeExample: "# æ­£ç¢ºçš„è®Šæ•¸å‘½å\nmy_variable = 10\n_private_var = 20\nuser_name = 'Alice'"
            },
            {
                question: "ä»¥ä¸‹å“ªäº›æ˜¯Pythonçš„ä¿ç•™å­—ï¼Ÿ",
                options: ["if, for, while", "function, method, class", "variable, string, integer", "print, input, len"],
                correct: 0,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonä¿ç•™å­—æ˜¯èªè¨€å…§å»ºçš„é—œéµå­—ï¼Œä¸èƒ½ç”¨ä½œè®Šæ•¸åã€‚ifã€forã€whileéƒ½æ˜¯æ§åˆ¶æµç¨‹çš„ä¿ç•™å­—ã€‚functionä¸æ˜¯Pythonä¿ç•™å­—ï¼ˆæ‡‰è©²æ˜¯defï¼‰ï¼Œprintã€inputã€lenæ˜¯å…§å»ºå‡½æ•¸è€Œéä¿ç•™å­—ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - é—œéµå­—åˆ—è¡¨",
                codeExample: "import keyword\nprint(keyword.kwlist)  # æŸ¥çœ‹æ‰€æœ‰ä¿ç•™å­—"
            },
            {
                question: "Pythonä¸­çš„ç¸®æ’(indentation)æœ‰ä»€éº¼é‡è¦æ€§ï¼Ÿ",
                options: ["åªæ˜¯ç‚ºäº†ç¾è§€", "å®šç¾©ç¨‹å¼ç¢¼å€å¡Šçµæ§‹", "æé«˜åŸ·è¡Œæ•ˆç‡", "æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨"],
                correct: 1,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonä½¿ç”¨ç¸®æ’ä¾†å®šç¾©ç¨‹å¼ç¢¼å€å¡Šï¼Œé€™æ˜¯èªæ³•çš„ä¸€éƒ¨åˆ†ã€‚ä¸åƒå…¶ä»–èªè¨€ä½¿ç”¨å¤§æ‹¬è™Ÿ{}ï¼ŒPythonçš„ç¸®æ’æ±ºå®šäº†ç¨‹å¼ç¢¼çš„é‚è¼¯çµæ§‹ã€‚æ¨™æº–ç¸®æ’æ˜¯4å€‹ç©ºæ ¼ã€‚",
                reference: "PEP 8 - Pythonç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å—",
                codeExample: "if True:\n    print('æ­£ç¢ºç¸®æ’')  # 4å€‹ç©ºæ ¼\n    if True:\n        print('å·¢ç‹€ç¸®æ’')  # 8å€‹ç©ºæ ¼"
            },
            {
                question: "åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ",
                code: `x = 5
y = x
x = 10
print(y)`,
                options: ["5", "10", "éŒ¯èª¤", "None"],
                correct: 0,
                difficulty: "medium",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonä¸­çš„è®Šæ•¸è³¦å€¼æ˜¯å°‡å€¼è¤‡è£½çµ¦æ–°è®Šæ•¸ï¼ˆå°æ–¼ä¸å¯è®Šç‰©ä»¶ï¼‰ã€‚y = x æ™‚ï¼Œyå¾—åˆ°xç•¶æ™‚çš„å€¼5ã€‚ä¹‹å¾Œxæ”¹è®Šç‚º10ä¸æœƒå½±éŸ¿yçš„å€¼ã€‚é€™å±•ç¤ºäº†Pythonè®Šæ•¸è³¦å€¼çš„åŸºæœ¬æ¦‚å¿µã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬2ç« ï¼šè®Šæ•¸è³¦å€¼",
                codeExample: "# è®Šæ•¸è³¦å€¼ç¤ºä¾‹\na = 100\nb = a  # bå¾—åˆ°açš„å€¼\na = 200  # æ”¹è®Šaä¸å½±éŸ¿b\nprint(f'a={a}, b={b}')  # a=200, b=100"
            },
            {
                question: "Pythonä¸­çš„å¤šé‡è³¦å€¼èªæ³•æ˜¯ä»€éº¼ï¼Ÿ",
                code: `a, b, c = 1, 2, 3
print(a, b, c)`,
                options: ["1 1 1", "1 2 3", "3 2 1", "éŒ¯èª¤"],
                correct: 1,
                difficulty: "medium",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonæ”¯æ´å¤šé‡è³¦å€¼ï¼ˆtuple unpackingï¼‰ï¼Œå¯ä»¥åŒæ™‚ç‚ºå¤šå€‹è®Šæ•¸è³¦å€¼ã€‚å·¦é‚Šçš„è®Šæ•¸æ•¸é‡å¿…é ˆèˆ‡å³é‚Šçš„å€¼æ•¸é‡ç›¸ç­‰ã€‚é€™æ˜¯Pythonçš„ä¸€å€‹å¼·å¤§ç‰¹æ€§ï¼Œå¸¸ç”¨æ–¼äº¤æ›è®Šæ•¸å€¼ã€‚",
                reference: "Python Tutorial - å¤šé‡è³¦å€¼",
                codeExample: "# å¤šé‡è³¦å€¼çš„æ‡‰ç”¨\nx, y = 10, 20\nx, y = y, x  # äº¤æ›è®Šæ•¸å€¼\nprint(f'x={x}, y={y}')  # x=20, y=10"
            },
            {
                question: "åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼å¾Œï¼Œè®Šæ•¸xçš„æœ€çµ‚å€¼æ˜¯å¤šå°‘ï¼Ÿ",
                code: `x = 10
x += 5
x *= 2
x //= 3`,
                options: ["10", "15", "30", "8"],
                correct: 0,
                difficulty: "medium",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "è®“æˆ‘å€‘é€æ­¥è¨ˆç®—ï¼šx = 10 â†’ x += 5 (xè®Šæˆ15) â†’ x *= 2 (xè®Šæˆ30) â†’ x //= 3 (xè®Šæˆ10ï¼Œå› ç‚º30//3=10ï¼Œ//æ˜¯æ•´æ•¸é™¤æ³•é‹ç®—ç¬¦)ã€‚æ•´æ•¸é™¤æ³•æœƒæ¨å»å°æ•¸éƒ¨åˆ†ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬2ç« ï¼šæ•¸å€¼é‹ç®—",
                codeExample: "# é‹ç®—ç¬¦ç¤ºä¾‹\nx = 10\nprint(f'åˆå§‹å€¼: {x}')\nx += 5  # x = x + 5\nprint(f'åŠ 5å¾Œ: {x}')\nx *= 2  # x = x * 2\nprint(f'ä¹˜2å¾Œ: {x}')\nx //= 3  # x = x // 3\nprint(f'æ•´é™¤3å¾Œ: {x}')"
            },
            {
                question: "Pythonä¸­ == å’Œ is é‹ç®—ç¬¦çš„å·®åˆ¥æ˜¯ä»€éº¼ï¼Ÿ",
                code: `a = [1, 2, 3]
b = [1, 2, 3]
c = a
print(a == b, a is b, a is c)`,
                options: ["True False True", "True True False", "False True True", "True True True"],
                correct: 0,
                difficulty: "hard",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "== æ¯”è¼ƒå€¼æ˜¯å¦ç›¸ç­‰ï¼Œis æ¯”è¼ƒæ˜¯å¦ç‚ºåŒä¸€å€‹ç‰©ä»¶ï¼ˆè¨˜æ†¶é«”ä½å€ï¼‰ã€‚aå’Œbå…§å®¹ç›¸åŒä½†æ˜¯ä¸åŒç‰©ä»¶ï¼Œæ‰€ä»¥a==bç‚ºTrueä½†a is bç‚ºFalseã€‚cæŒ‡å‘aï¼Œæ‰€ä»¥a is cç‚ºTrueã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - æ¯”è¼ƒé‹ç®—ç¬¦",
                codeExample: "# èº«ä»½vsç›¸ç­‰æ€§æ¯”è¼ƒ\nlist1 = [1, 2, 3]\nlist2 = [1, 2, 3]\nlist3 = list1\n\nprint(f'list1 == list2: {list1 == list2}')  # True\nprint(f'list1 is list2: {list1 is list2}')  # False\nprint(f'list1 is list3: {list1 is list3}')  # True\nprint(f'id(list1): {id(list1)}')\nprint(f'id(list2): {id(list2)}')"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `x = 5
y = 2
result = x ** y % 3
print(result)`,
                options: ["1", "2", "25", "8"],
                correct: 0,
                difficulty: "medium",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "é‹ç®—ç¬¦å„ªå…ˆé †åºï¼š** (æŒ‡æ•¸) > % (å–é¤˜)ã€‚æ‰€ä»¥å…ˆè¨ˆç®— 5**2=25ï¼Œç„¶å¾Œ 25%3=1ã€‚æŒ‡æ•¸é‹ç®—ç¬¦çš„å„ªå…ˆé †åºé«˜æ–¼å–é¤˜é‹ç®—ç¬¦ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - é‹ç®—ç¬¦å„ªå…ˆé †åº",
                codeExample: "# é‹ç®—ç¬¦å„ªå…ˆé †åºç¤ºä¾‹\nx, y = 5, 2\nstep1 = x ** y  # 5^2 = 25\nstep2 = step1 % 3  # 25 % 3 = 1\nprint(f'{x}**{y} = {step1}')\nprint(f'{step1}%3 = {step2}')\nprint(f'ä¸€æ­¥è¨ˆç®—: {x**y%3}')"
            },
            {
                question: "Pythonä¸­çš„ f-string æ ¼å¼åŒ–èªæ³•æ˜¯ä»€éº¼ï¼Ÿ",
                code: `name = "Alice"
age = 25
message = f"Hello, {name}! You are {age} years old."
print(message)`,
                options: ["Hello, Alice! You are 25 years old.", "Hello, {name}! You are {age} years old.", "éŒ¯èª¤", "Hello, name! You are age years old."],
                correct: 0,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "f-stringï¼ˆæ ¼å¼åŒ–å­—ä¸²å­—é¢å€¼ï¼‰æ˜¯Python 3.6+çš„æ–°ç‰¹æ€§ï¼Œåœ¨å­—ä¸²å‰åŠ fï¼Œå¯ä»¥åœ¨{}ä¸­ç›´æ¥ä½¿ç”¨è®Šæ•¸åã€‚é€™æ¯”.format()æ–¹æ³•æ›´ç°¡æ½”æ˜“è®€ã€‚",
                reference: "Python 3.6+ - f-stringæ ¼å¼åŒ–",
                codeExample: "# f-string vs å…¶ä»–æ ¼å¼åŒ–æ–¹æ³•\nname, age = 'Bob', 30\n\n# f-string (æ¨è–¦)\nf_str = f'Name: {name}, Age: {age}'\n\n# .format() æ–¹æ³•\nformat_str = 'Name: {}, Age: {}'.format(name, age)\n\n# % æ ¼å¼åŒ– (èˆŠå¼)\npercent_str = 'Name: %s, Age: %d' % (name, age)\n\nprint(f_str)\nprint(format_str)\nprint(percent_str)"
            },
            {
                question: "ä»¥ä¸‹å“ªå€‹æ˜¯æ­£ç¢ºçš„Pythonè¨»è§£æ–¹å¼ï¼Ÿ",
                options: ["// é€™æ˜¯è¨»è§£", "/* é€™æ˜¯è¨»è§£ */", "# é€™æ˜¯è¨»è§£", "<!-- é€™æ˜¯è¨»è§£ -->"],
                correct: 2,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonä½¿ç”¨ # ç¬¦è™Ÿé€²è¡Œå–®è¡Œè¨»è§£ã€‚å¤šè¡Œè¨»è§£å¯ä»¥ä½¿ç”¨ä¸‰é‡å¼•è™Ÿ '''è¨»è§£''' æˆ– \"\"\"è¨»è§£\"\"\"ã€‚// æ˜¯C/Javaé¢¨æ ¼ï¼Œ/* */ æ˜¯Cé¢¨æ ¼ï¼Œ<!-- --> æ˜¯HTMLé¢¨æ ¼ã€‚",
                reference: "PEP 8 - è¨»è§£è¦ç¯„",
                codeExample: "# é€™æ˜¯å–®è¡Œè¨»è§£\n\n'''\né€™æ˜¯å¤šè¡Œè¨»è§£\nå¯ä»¥è·¨è¶Šå¤šè¡Œ\n'''\n\n\"\"\"\né€™ä¹Ÿæ˜¯å¤šè¡Œè¨»è§£\né€šå¸¸ç”¨æ–¼æ–‡æª”å­—ä¸²\n\"\"\"\n\nprint('Hello')  # è¡Œæœ«è¨»è§£"
            },
            {
                question: "Pythonä¸­çš„ ** é‹ç®—ç¬¦ç”¨æ–¼ä»€éº¼æ“ä½œï¼Ÿ",
                options: ["ä¹˜æ³•", "é™¤æ³•", "æŒ‡æ•¸é‹ç®—", "å–é¤˜æ•¸"],
                correct: 2,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "** æ˜¯æŒ‡æ•¸é‹ç®—ç¬¦ï¼Œä¾‹å¦‚ 2**3 = 8ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬2ç« ï¼šæ•¸å­¸é‹ç®—"
            },
            {
                question: "ä»¥ä¸‹å“ªå€‹æ˜¯Pythonçš„ä¿ç•™å­—ï¼Ÿ",
                options: ["variable", "function", "import", "name"],
                correct: 2,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "'import'æ˜¯Pythonçš„ä¿ç•™å­—ï¼Œç”¨æ–¼åŒ¯å…¥æ¨¡çµ„ã€‚å…¶ä»–é¸é …éƒ½ä¸æ˜¯ä¿ç•™å­—ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬1ç« ï¼šPythonåŸºç¤"
            },
            {
                question: "Pythonä¸­çš„è¨»è§£ç¬¦è™Ÿæ˜¯ä»€éº¼ï¼Ÿ",
                options: ["//", "/* */", "#", "<!-- -->"],
                correct: 2,
                difficulty: "easy",
                topic: "PythonåŸºç¤èªæ³•",
                explanation: "Pythonä½¿ç”¨ # ç¬¦è™Ÿä¾†è¡¨ç¤ºå–®è¡Œè¨»è§£ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬1ç« ï¼šè¨»è§£"
            },
            
            // ç¬¬2ç« ï¼šè³‡æ–™å‹åˆ¥èˆ‡çµæ§‹ (200é¡Œ)
            {
                question: "ä»¥ä¸‹å“ªå€‹æ–¹æ³•å¯ä»¥å°‡å­—ä¸² '123' è½‰æ›ç‚ºæ•´æ•¸ï¼Ÿ",
                options: ["str(123)", "int('123')", "float('123')", "bool('123')"],
                correct: 1,
                difficulty: "easy",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "int() å‡½æ•¸ç”¨æ–¼å°‡å­—ä¸²è½‰æ›ç‚ºæ•´æ•¸å‹åˆ¥ã€‚str()å°‡æ•¸å­—è½‰ç‚ºå­—ä¸²ï¼Œfloat()è½‰ç‚ºæµ®é»æ•¸ï¼Œbool()è½‰ç‚ºå¸ƒæ—å€¼ã€‚å‹åˆ¥è½‰æ›æ˜¯Pythonç¨‹å¼è¨­è¨ˆçš„åŸºç¤æŠ€èƒ½ã€‚",
                reference: "Automate the Boring Stuff with Python - ç¬¬1ç« ï¼šè³‡æ–™å‹åˆ¥",
                codeExample: "# å‹åˆ¥è½‰æ›ç¤ºä¾‹\nstring_num = '123'\ninteger = int(string_num)  # å­—ä¸²è½‰æ•´æ•¸\nfloat_num = float(string_num)  # å­—ä¸²è½‰æµ®é»æ•¸\nprint(f'åŸå§‹: {string_num} (type: {type(string_num)})')\nprint(f'æ•´æ•¸: {integer} (type: {type(integer)})')\nprint(f'æµ®é»: {float_num} (type: {type(float_num)})')"
            },
            {
                question: "Pythonä¸­å“ªäº›å€¼è¢«è¦–ç‚ºFalseï¼Ÿ",
                options: ["0, '', [], {}", "1, 'hello', [1]", "None, True", "åªæœ‰False"],
                correct: 0,
                difficulty: "medium",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "Pythonä¸­çš„ã€Œå‡å€¼ã€(falsy values)åŒ…æ‹¬ï¼šFalseã€Noneã€0ã€0.0ã€''(ç©ºå­—ä¸²)ã€[](ç©ºåˆ—è¡¨)ã€{}(ç©ºå­—å…¸)ã€set()(ç©ºé›†åˆ)ã€‚æ‰€æœ‰å…¶ä»–å€¼éƒ½è¢«è¦–ç‚ºTrueã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - çœŸå€¼æ¸¬è©¦",
                codeExample: "# çœŸå€¼æ¸¬è©¦ç¤ºä¾‹\nfalsy_values = [False, None, 0, 0.0, '', [], {}, set()]\ntruthy_values = [True, 1, 'hello', [1], {'a': 1}]\n\nfor val in falsy_values:\n    print(f'{repr(val)} is falsy: {not bool(val)}')\n    \nfor val in truthy_values:\n    print(f'{repr(val)} is truthy: {bool(val)}')"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `numbers = [1, 2, 3]
numbers_copy = numbers
numbers.append(4)
print(numbers_copy)`,
                options: ["[1, 2, 3]", "[1, 2, 3, 4]", "éŒ¯èª¤", "None"],
                correct: 1,
                difficulty: "hard",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "é€™å±•ç¤ºäº†Pythonä¸­å¯è®Šç‰©ä»¶çš„å¼•ç”¨ç‰¹æ€§ã€‚numbers_copy = numbers å‰µå»ºçš„æ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å‰¯æœ¬ã€‚å…©å€‹è®Šæ•¸æŒ‡å‘åŒä¸€å€‹åˆ—è¡¨ç‰©ä»¶ï¼Œæ‰€ä»¥ä¿®æ”¹ä¸€å€‹æœƒå½±éŸ¿å¦ä¸€å€‹ã€‚è¦å‰µå»ºçœŸæ­£çš„å‰¯æœ¬ï¼Œæ‡‰ä½¿ç”¨ numbers.copy() æˆ– numbers[:]ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - å¯è®Šèˆ‡ä¸å¯è®Šç‰©ä»¶",
                codeExample: "# å¼•ç”¨ vs è¤‡è£½\noriginal = [1, 2, 3]\n\n# å¼•ç”¨ï¼ˆæ·ºè¤‡è£½ï¼‰\nreference = original\noriginal.append(4)\nprint(f'å¼•ç”¨: {reference}')  # [1, 2, 3, 4]\n\n# çœŸæ­£çš„è¤‡è£½\noriginal2 = [1, 2, 3]\ncopy = original2.copy()  # æˆ– original2[:]\noriginal2.append(4)\nprint(f'è¤‡è£½: {copy}')  # [1, 2, 3]"
            },
            {
                question: "Pythonå­—å…¸çš„get()æ–¹æ³•æœ‰ä»€éº¼å„ªé»ï¼Ÿ",
                code: `data = {'name': 'Alice', 'age': 25}
result1 = data.get('city', 'Unknown')
result2 = data['city']  # é€™è¡Œæœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ`,
                options: ["å…©è€…éƒ½è¿”å›'Unknown'", "get()è¿”å›'Unknown'ï¼Œ[]æœƒå¼•ç™¼éŒ¯èª¤", "å…©è€…éƒ½å¼•ç™¼éŒ¯èª¤", "get()å¼•ç™¼éŒ¯èª¤ï¼Œ[]è¿”å›'Unknown'"],
                correct: 1,
                difficulty: "medium",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "get()æ–¹æ³•çš„å„ªé»æ˜¯å®‰å…¨æ€§ï¼šå¦‚æœéµä¸å­˜åœ¨ï¼Œè¿”å›é è¨­å€¼è€Œä¸æ˜¯å¼•ç™¼KeyErrorã€‚data['city']æœƒå¼•ç™¼KeyErrorï¼Œè€Œdata.get('city', 'Unknown')è¿”å›'Unknown'ã€‚é€™ä½¿ç¨‹å¼æ›´å¥å£¯ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - å­—å…¸æ–¹æ³•",
                codeExample: "# å®‰å…¨çš„å­—å…¸å­˜å–\ndata = {'name': 'Alice', 'age': 25}\n\n# å®‰å…¨æ–¹å¼\ncity = data.get('city', 'Unknown')\nprint(f'åŸå¸‚: {city}')  # Unknown\n\n# ä¸å®‰å…¨æ–¹å¼ï¼ˆæœƒå¼•ç™¼éŒ¯èª¤ï¼‰\ntry:\n    city = data['city']\nexcept KeyError:\n    print('éµä¸å­˜åœ¨ï¼')\n    city = 'Unknown'"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `text = "Python Programming"
print(text[::2])`,
                options: ["Python", "Pto rgamn", "Pyo rgamn", "Pthn Pormig"],
                correct: 2,
                difficulty: "medium",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "å­—ä¸²åˆ‡ç‰‡ [::2] è¡¨ç¤ºå¾é–‹å§‹åˆ°çµæŸï¼Œæ­¥é•·ç‚º2ï¼Œå³æ¯éš”ä¸€å€‹å­—ç¬¦å–ä¸€å€‹ã€‚P(0)y(2)t(4)h(6)o(8)n(10) (12)P(14)r(16)o(18)g(20)r(22)a(24)m(26)m(28)i(30)n(32)gï¼Œçµæœæ˜¯'Pyo rgamn'ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - å­—ä¸²åˆ‡ç‰‡",
                codeExample: "# å­—ä¸²åˆ‡ç‰‡ç¤ºä¾‹\ntext = 'Python Programming'\nprint(f'åŸå­—ä¸²: {text}')\nprint(f'æ¯2å€‹å­—ç¬¦: {text[::2]}')\nprint(f'åå‘: {text[::-1]}')\nprint(f'å‰5å€‹å­—ç¬¦: {text[:5]}')\nprint(f'å¾Œ5å€‹å­—ç¬¦: {text[-5:]}')"
            },
            {
                question: "Pythonä¸­çš„set(é›†åˆ)æœ‰ä»€éº¼ç‰¹æ®Šæ€§è³ªï¼Ÿ",
                code: `numbers = [1, 2, 2, 3, 3, 3, 4]
unique_numbers = set(numbers)
print(len(unique_numbers))`,
                options: ["7", "4", "3", "éŒ¯èª¤"],
                correct: 1,
                difficulty: "easy",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "set(é›†åˆ)è‡ªå‹•å»é™¤é‡è¤‡å…ƒç´ ï¼Œä¸”å…ƒç´ ç„¡åºã€‚[1, 2, 2, 3, 3, 3, 4]è½‰ç‚ºsetå¾Œè®Šæˆ{1, 2, 3, 4}ï¼Œé•·åº¦ç‚º4ã€‚é›†åˆå¸¸ç”¨æ–¼å»é‡å’Œé›†åˆé‹ç®—ï¼ˆäº¤é›†ã€è¯é›†ç­‰ï¼‰ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - é›†åˆå‹åˆ¥",
                codeExample: "# é›†åˆæ“ä½œç¤ºä¾‹\nlist_with_duplicates = [1, 2, 2, 3, 3, 3, 4]\nunique_set = set(list_with_duplicates)\nprint(f'åŸåˆ—è¡¨: {list_with_duplicates}')\nprint(f'å»é‡é›†åˆ: {unique_set}')\nprint(f'é•·åº¦: {len(unique_set)}')\n\n# é›†åˆé‹ç®—\nset1 = {1, 2, 3, 4}\nset2 = {3, 4, 5, 6}\nprint(f'äº¤é›†: {set1 & set2}')\nprint(f'è¯é›†: {set1 | set2}')"
            },
            {
                question: "åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `my_list = [1, 2, 3, 4, 5]
print(my_list[1:4])`,
                options: ["[1, 2, 3]", "[2, 3, 4]", "[1, 2, 3, 4]", "[2, 3, 4, 5]"],
                correct: 1,
                difficulty: "medium",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "åˆ‡ç‰‡ [1:4] å¾ç´¢å¼•1é–‹å§‹åˆ°ç´¢å¼•4ä¹‹å‰çµæŸï¼Œæ‰€ä»¥æ˜¯ [2, 3, 4]ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬3ç« ï¼šåˆ—è¡¨"
            },
            {
                question: "Pythonå­—å…¸(dict)çš„ç‰¹æ€§æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["æœ‰åºä¸”å¯è®Š", "ç„¡åºä½†å¯è®Š", "æœ‰åºä¸”ä¸å¯è®Š", "ç„¡åºä¸”ä¸å¯è®Š"],
                correct: 1,
                difficulty: "medium",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "Pythonå­—å…¸æ˜¯ç„¡åºçš„éµå€¼å°é›†åˆï¼Œä¸”æ˜¯å¯è®Šçš„è³‡æ–™å‹åˆ¥ã€‚(æ³¨æ„ï¼šPython 3.7+å­—å…¸ä¿æŒæ’å…¥é †åº)",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬6ç« ï¼šå­—å…¸"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `text = "Hello World"
print(text[6:])`,
                options: ["Hello", "World", "Hello ", " World"],
                correct: 1,
                difficulty: "easy",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "å­—ä¸²åˆ‡ç‰‡ [6:] å¾ç´¢å¼•6é–‹å§‹åˆ°å­—ä¸²çµå°¾ï¼Œç´¢å¼•6æ˜¯'W'ï¼Œæ‰€ä»¥è¼¸å‡º'World'ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬3ç« ï¼šå­—ä¸²æ“ä½œ"
            },
            {
                question: "Pythonä¸­çš„å…ƒçµ„(tuple)å’Œåˆ—è¡¨(list)çš„ä¸»è¦å·®åˆ¥æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["å…ƒçµ„å¯è®Šï¼Œåˆ—è¡¨ä¸å¯è®Š", "å…ƒçµ„ä¸å¯è®Šï¼Œåˆ—è¡¨å¯è®Š", "æ²’æœ‰å·®åˆ¥", "åªæœ‰èªæ³•ä¸åŒ"],
                correct: 1,
                difficulty: "easy",
                topic: "è³‡æ–™å‹åˆ¥èˆ‡çµæ§‹",
                explanation: "å…ƒçµ„æ˜¯ä¸å¯è®Šçš„è³‡æ–™çµæ§‹ï¼Œä¸€æ—¦å»ºç«‹å°±ä¸èƒ½ä¿®æ”¹ï¼›åˆ—è¡¨æ˜¯å¯è®Šçš„ï¼Œå¯ä»¥ä¿®æ”¹å…ƒç´ ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬4ç« ï¼šå…ƒçµ„"
            },
            
            // ç¬¬3ç« ï¼šæ§åˆ¶çµæ§‹ (220é¡Œ)
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `x = 15
if x > 20:
    print('A')
elif x > 10:
    print('B')
else:
    print('C')`,
                options: ["A", "B", "C", "æ²’æœ‰è¼¸å‡º"],
                correct: 1,
                difficulty: "easy",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "x=15ï¼Œä¸æ»¿è¶³ x>20ï¼Œä½†æ»¿è¶³ x>10ï¼Œæ‰€ä»¥è¼¸å‡º 'B'ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬5ç« ï¼šifèªå¥"
            },
            {
                question: "ä»¥ä¸‹è¿´åœˆæœƒåŸ·è¡Œå¹¾æ¬¡ï¼Ÿ",
                code: `for i in range(2, 10, 3):
    print(i)`,
                options: ["2æ¬¡", "3æ¬¡", "4æ¬¡", "8æ¬¡"],
                correct: 1,
                difficulty: "medium",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "range(2, 10, 3) ç”¢ç”Ÿ [2, 5, 8]ï¼Œå…±3å€‹æ•¸å­—ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬4ç« ï¼šä½¿ç”¨åˆ—è¡¨"
            },
            {
                question: "whileè¿´åœˆçš„åŸ·è¡Œæ¢ä»¶æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["æ¢ä»¶ç‚ºTrueæ™‚åŸ·è¡Œ", "æ¢ä»¶ç‚ºFalseæ™‚åŸ·è¡Œ", "åªåŸ·è¡Œä¸€æ¬¡", "ç„¡é™åŸ·è¡Œ"],
                correct: 0,
                difficulty: "easy",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "whileè¿´åœˆåœ¨æ¢ä»¶ç‚ºTrueæ™‚æŒçºŒåŸ·è¡Œï¼Œç›´åˆ°æ¢ä»¶è®Šç‚ºFalseã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬4ç« ï¼šwhileè¿´åœˆ"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `for i in range(5):
    if i == 3:
        break
    print(i)`,
                options: ["0 1 2", "0 1 2 3", "1 2 3", "0 1 2 3 4"],
                correct: 0,
                difficulty: "medium",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "ç•¶iç­‰æ–¼3æ™‚ï¼Œbreakèªå¥æœƒçµ‚æ­¢è¿´åœˆï¼Œæ‰€ä»¥åªè¼¸å‡º0, 1, 2ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬4ç« ï¼šbreakèªå¥"
            },
            {
                question: "continueèªå¥çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["çµ‚æ­¢è¿´åœˆ", "è·³éç•¶å‰è¿­ä»£", "é‡æ–°é–‹å§‹è¿´åœˆ", "æš«åœç¨‹å¼"],
                correct: 1,
                difficulty: "easy",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "continueèªå¥æœƒè·³éç•¶å‰è¿­ä»£çš„å‰©é¤˜éƒ¨åˆ†ï¼Œç›´æ¥é€²å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚èˆ‡breakä¸åŒï¼Œcontinueä¸æœƒçµ‚æ­¢æ•´å€‹è¿´åœˆï¼Œåªæ˜¯è·³éç•¶å‰é€™ä¸€è¼ªçš„åŸ·è¡Œã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬4ç« ï¼šcontinueèªå¥",
                codeExample: "# continue vs break ç¤ºä¾‹\nfor i in range(5):\n    if i == 2:\n        continue  # è·³éi=2çš„è¼¸å‡º\n    print(f'continueä¾‹å­: {i}')  # è¼¸å‡º: 0,1,3,4\n\nfor i in range(5):\n    if i == 2:\n        break  # åœ¨i=2æ™‚çµ‚æ­¢è¿´åœˆ\n    print(f'breakä¾‹å­: {i}')  # è¼¸å‡º: 0,1"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `for i in range(3):
    for j in range(2):
        if i == 1 and j == 0:
            break
        print(f"{i},{j}")`,
                options: ["0,0 0,1 2,0 2,1", "0,0 0,1 1,1 2,0 2,1", "0,0 0,1 2,0 2,1", "0,0 0,1 1,0 2,0 2,1"],
                correct: 1,
                difficulty: "hard",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "å·¢ç‹€è¿´åœˆä¸­çš„breakåªæœƒè·³å‡ºæœ€å…§å±¤è¿´åœˆã€‚ç•¶i=1,j=0æ™‚ï¼Œbreakè·³å‡ºå…§å±¤è¿´åœˆï¼Œä½†å¤–å±¤è¿´åœˆç¹¼çºŒåŸ·è¡Œã€‚æ‰€ä»¥æœƒè¼¸å‡ºï¼š(0,0), (0,1), (1,1), (2,0), (2,1)ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - å·¢ç‹€è¿´åœˆæ§åˆ¶",
                codeExample: "# å·¢ç‹€è¿´åœˆbreakç¤ºä¾‹\nfor outer in range(3):\n    print(f'å¤–å±¤è¿´åœˆ: {outer}')\n    for inner in range(3):\n        if inner == 1:\n            print('  breakå…§å±¤è¿´åœˆ')\n            break\n        print(f'  å…§å±¤è¿´åœˆ: {inner}')\n    print('å¤–å±¤è¿´åœˆç¹¼çºŒ')"
            },
            {
                question: "Pythonä¸­çš„ä¸‰å…ƒé‹ç®—ç¬¦èªæ³•æ˜¯ä»€éº¼ï¼Ÿ",
                code: `x = 10
result = "positive" if x > 0 else "non-positive"
print(result)`,
                options: ["positive", "non-positive", "10", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "medium",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "Pythonçš„ä¸‰å…ƒé‹ç®—ç¬¦èªæ³•æ˜¯ï¼švalue_if_true if condition else value_if_falseã€‚é€™æ˜¯if-elseèªå¥çš„ç°¡åŒ–å¯«æ³•ï¼Œå¸¸ç”¨æ–¼ç°¡å–®çš„æ¢ä»¶è³¦å€¼ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - æ¢ä»¶è¡¨é”å¼",
                codeExample: "# ä¸‰å…ƒé‹ç®—ç¬¦ç¤ºä¾‹\nage = 18\nstatus = 'æˆå¹´' if age >= 18 else 'æœªæˆå¹´'\nprint(status)\n\n# ç­‰åŒæ–¼ï¼š\nif age >= 18:\n    status = 'æˆå¹´'\nelse:\n    status = 'æœªæˆå¹´'\n\n# å·¢ç‹€ä¸‰å…ƒé‹ç®—ç¬¦\nscore = 85\ngrade = 'A' if score >= 90 else 'B' if score >= 80 else 'C'"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `numbers = [1, 2, 3, 4, 5]
for i, num in enumerate(numbers):
    if num % 2 == 0:
        print(f"Index {i}: {num}")`,
                options: ["Index 1: 2\nIndex 3: 4", "Index 0: 1\nIndex 2: 3\nIndex 4: 5", "2\n4", "1\n3\n5"],
                correct: 0,
                difficulty: "medium",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "enumerate()å‡½æ•¸è¿”å›ç´¢å¼•å’Œå€¼çš„é…å°ã€‚ç¨‹å¼ç¢¼æ‰¾å‡ºå¶æ•¸ä¸¦å°å‡ºå…¶ç´¢å¼•å’Œå€¼ã€‚2åœ¨ç´¢å¼•1ï¼Œ4åœ¨ç´¢å¼•3ï¼Œæ‰€ä»¥è¼¸å‡º'Index 1: 2'å’Œ'Index 3: 4'ã€‚",
                reference: "Pythonå…§å»ºå‡½æ•¸ - enumerate",
                codeExample: "# enumerateä½¿ç”¨ç¤ºä¾‹\nfruits = ['apple', 'banana', 'cherry']\n\n# åŸºæœ¬ç”¨æ³•\nfor index, fruit in enumerate(fruits):\n    print(f'{index}: {fruit}')\n\n# æŒ‡å®šèµ·å§‹ç´¢å¼•\nfor index, fruit in enumerate(fruits, start=1):\n    print(f'ç¬¬{index}å€‹æ°´æœ: {fruit}')"
            },
            {
                question: "while-elseèªå¥çš„ç‰¹æ®Šè¡Œç‚ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `i = 0
while i < 3:
    print(i)
    i += 1
else:
    print("è¿´åœˆæ­£å¸¸çµæŸ")`,
                options: ["elseä¸æœƒåŸ·è¡Œ", "elseæœƒåŸ·è¡Œ", "æœƒç”¢ç”ŸéŒ¯èª¤", "ç„¡é™è¿´åœˆ"],
                correct: 1,
                difficulty: "hard",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "while-elseä¸­çš„elseå­å¥åœ¨è¿´åœˆæ­£å¸¸çµæŸæ™‚åŸ·è¡Œï¼ˆå³æ¢ä»¶è®Šç‚ºFalseæ™‚ï¼‰ã€‚å¦‚æœè¿´åœˆè¢«breakçµ‚æ­¢ï¼Œelseä¸æœƒåŸ·è¡Œã€‚é€™æ˜¯Pythonç¨æœ‰çš„ç‰¹æ€§ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - while-elseèªå¥",
                codeExample: "# while-elseç¤ºä¾‹\n# æ­£å¸¸çµæŸï¼ŒelseåŸ·è¡Œ\ni = 0\nwhile i < 3:\n    print(f'æ­£å¸¸: {i}')\n    i += 1\nelse:\n    print('æ­£å¸¸çµæŸï¼ŒelseåŸ·è¡Œ')\n\n# breakçµ‚æ­¢ï¼Œelseä¸åŸ·è¡Œ\ni = 0\nwhile i < 10:\n    if i == 2:\n        break\n    print(f'ä¸­æ–·: {i}')\n    i += 1\nelse:\n    print('é€™è¡Œä¸æœƒåŸ·è¡Œ')"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `for i in range(5):
    if i == 0:
        continue
    elif i == 3:
        break
    print(i)`,
                options: ["1 2", "0 1 2", "1 2 3", "0 1 2 3 4"],
                correct: 0,
                difficulty: "medium",
                topic: "æ§åˆ¶çµæ§‹",
                explanation: "i=0æ™‚continueè·³éprintï¼Œi=1,2æ™‚æ­£å¸¸printï¼Œi=3æ™‚breakçµ‚æ­¢è¿´åœˆã€‚æ‰€ä»¥åªè¼¸å‡º1å’Œ2ã€‚",
                reference: "Pythonæ§åˆ¶æµç¨‹ - continueå’Œbreakçµ„åˆ",
                codeExample: "# æ§åˆ¶æµç¨‹çµ„åˆç¤ºä¾‹\nfor num in range(10):\n    if num < 2:  # è·³é0,1\n        continue\n    if num > 5:  # å¤§æ–¼5å°±åœæ­¢\n        break\n    if num % 2 == 0:  # åªå°å¶æ•¸\n        print(f'å¶æ•¸: {num}')\n# è¼¸å‡º: å¶æ•¸: 2, å¶æ•¸: 4"
            },
            
            // ç¬¬4ç« ï¼šå‡½æ•¸èˆ‡æ¨¡çµ„ (250é¡Œ)
            {
                question: "å®šç¾©ä¸€å€‹Pythonå‡½æ•¸çš„æ­£ç¢ºèªæ³•æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["function myFunc():", "def myFunc():", "func myFunc():", "define myFunc():"],
                correct: 1,
                difficulty: "easy",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "Pythonä½¿ç”¨ 'def' é—œéµå­—ä¾†å®šç¾©å‡½æ•¸ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬8ç« ï¼šå‡½æ•¸"
            },
            {
                question: "ä»¥ä¸‹å‡½æ•¸æœƒè¿”å›ä»€éº¼å€¼ï¼Ÿ",
                code: `def calculate(a, b=5):
    return a * b

result = calculate(3)`,
                options: ["3", "5", "15", "8"],
                correct: 2,
                difficulty: "medium",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "å‡½æ•¸æœ‰é è¨­åƒæ•¸ b=5ï¼Œèª¿ç”¨ calculate(3) æ™‚ï¼Œa=3, b=5ï¼Œè¿”å› 3*5=15ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬8ç« ï¼šé è¨­åƒæ•¸"
            },
            {
                question: "Pythonä¸­çš„ *args åƒæ•¸ç”¨æ–¼ä»€éº¼ï¼Ÿ",
                options: ["æ¥æ”¶é—œéµå­—åƒæ•¸", "æ¥æ”¶å¯è®Šæ•¸é‡çš„ä½ç½®åƒæ•¸", "æ¥æ”¶å­—å…¸åƒæ•¸", "æ¥æ”¶åˆ—è¡¨åƒæ•¸"],
                correct: 1,
                difficulty: "hard",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "*args ç”¨æ–¼æ¥æ”¶å¯è®Šæ•¸é‡çš„ä½ç½®åƒæ•¸ï¼Œå°‡å®ƒå€‘æ‰“åŒ…æˆå…ƒçµ„ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬8ç« ï¼šä»»æ„æ•¸é‡çš„åƒæ•¸"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `def greet(name, greeting="Hello"):
    return f"{greeting}, {name}!"

print(greet("Alice"))`,
                options: ["Hello, Alice!", "Alice, Hello!", "greeting, Alice!", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "medium",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "å‡½æ•¸ä½¿ç”¨é è¨­åƒæ•¸greeting='Hello'ï¼Œæ‰€ä»¥è¼¸å‡º'Hello, Alice!'ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬8ç« ï¼šé è¨­åƒæ•¸å€¼"
            },
            {
                question: "Pythonä¸­çš„ **kwargs åƒæ•¸ç”¨æ–¼ä»€éº¼ï¼Ÿ",
                options: ["æ¥æ”¶ä½ç½®åƒæ•¸", "æ¥æ”¶é—œéµå­—åƒæ•¸", "æ¥æ”¶åˆ—è¡¨åƒæ•¸", "æ¥æ”¶å…ƒçµ„åƒæ•¸"],
                correct: 1,
                difficulty: "hard",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "**kwargs ç”¨æ–¼æ¥æ”¶å¯è®Šæ•¸é‡çš„é—œéµå­—åƒæ•¸ï¼Œå°‡å®ƒå€‘æ‰“åŒ…æˆå­—å…¸ã€‚kwargsæ˜¯'keyword arguments'çš„ç¸®å¯«ï¼Œå…è¨±å‡½æ•¸æ¥å—ä»»æ„æ•¸é‡çš„é—œéµå­—åƒæ•¸ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬8ç« ï¼šä»»æ„æ•¸é‡çš„é—œéµå­—åƒæ•¸",
                codeExample: "# **kwargs ç¤ºä¾‹\ndef print_info(**kwargs):\n    for key, value in kwargs.items():\n        print(f'{key}: {value}')\n\n# èª¿ç”¨æ–¹å¼\nprint_info(name='Alice', age=25, city='Taipei')\n# è¼¸å‡º:\n# name: Alice\n# age: 25\n# city: Taipei"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `def modify_list(lst=[]):
    lst.append(1)
    return lst

result1 = modify_list()
result2 = modify_list()
print(result1, result2)`,
                options: ["[1] [1]", "[1] [1, 1]", "[] []", "éŒ¯èª¤"],
                correct: 1,
                difficulty: "hard",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "é€™æ˜¯Pythonçš„ã€Œå¯è®Šé è¨­åƒæ•¸é™·é˜±ã€ã€‚é è¨­åƒæ•¸[]åœ¨å‡½æ•¸å®šç¾©æ™‚å‰µå»ºï¼Œæ¯æ¬¡èª¿ç”¨éƒ½ä½¿ç”¨åŒä¸€å€‹åˆ—è¡¨ç‰©ä»¶ã€‚ç¬¬ä¸€æ¬¡èª¿ç”¨å¾Œåˆ—è¡¨è®Šæˆ[1]ï¼Œç¬¬äºŒæ¬¡èª¿ç”¨æ™‚åœ¨åŒä¸€å€‹åˆ—è¡¨ä¸Šå†åŠ 1ï¼Œè®Šæˆ[1,1]ã€‚",
                reference: "Pythoné™·é˜± - å¯è®Šé è¨­åƒæ•¸",
                codeExample: "# æ­£ç¢ºçš„å¯«æ³•\ndef modify_list_correct(lst=None):\n    if lst is None:\n        lst = []  # æ¯æ¬¡éƒ½å‰µå»ºæ–°åˆ—è¡¨\n    lst.append(1)\n    return lst\n\n# æˆ–è€…\ndef modify_list_correct2(lst=None):\n    lst = lst or []  # ä½¿ç”¨oré‹ç®—ç¬¦\n    lst.append(1)\n    return lst"
            },
            {
                question: "Pythonä¸­çš„lambdaå‡½æ•¸æœ‰ä»€éº¼ç‰¹é»ï¼Ÿ",
                code: `square = lambda x: x ** 2
numbers = [1, 2, 3, 4, 5]
result = list(map(square, numbers))
print(result)`,
                options: ["[1, 2, 3, 4, 5]", "[1, 4, 9, 16, 25]", "[2, 4, 6, 8, 10]", "éŒ¯èª¤"],
                correct: 1,
                difficulty: "medium",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "lambdaæ˜¯åŒ¿åå‡½æ•¸ï¼Œèªæ³•æ˜¯ lambda åƒæ•¸: è¡¨é”å¼ã€‚é€™è£¡lambda x: x**2 ç­‰åŒæ–¼ def square(x): return x**2ã€‚map()å‡½æ•¸å°‡lambdaæ‡‰ç”¨åˆ°æ¯å€‹å…ƒç´ ä¸Šã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - lambdaè¡¨é”å¼",
                codeExample: "# lambda vs æ™®é€šå‡½æ•¸\n# ä½¿ç”¨lambda\nsquare_lambda = lambda x: x ** 2\n\n# ç­‰åŒçš„æ™®é€šå‡½æ•¸\ndef square_function(x):\n    return x ** 2\n\n# å¸¸è¦‹ç”¨æ³•ï¼šèˆ‡map, filter, sortedä¸€èµ·ä½¿ç”¨\nnumbers = [1, 2, 3, 4, 5]\nsquared = list(map(lambda x: x**2, numbers))\neven = list(filter(lambda x: x%2==0, numbers))\nsorted_desc = sorted(numbers, key=lambda x: -x)"
            },
            {
                question: "Pythonä¸­çš„è£é£¾å™¨(decorator)æ˜¯ä»€éº¼ï¼Ÿ",
                code: `def my_decorator(func):
    def wrapper():
        print("Before function")
        func()
        print("After function")
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")

say_hello()`,
                options: ["åªè¼¸å‡ºHello!", "Before function\nHello!\nAfter function", "éŒ¯èª¤", "After function\nHello!\nBefore function"],
                correct: 1,
                difficulty: "hard",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "è£é£¾å™¨æ˜¯ä¿®æ”¹æˆ–æ“´å±•å‡½æ•¸è¡Œç‚ºçš„èªæ³•ç³–ã€‚@my_decoratorç­‰åŒæ–¼say_hello = my_decorator(say_hello)ã€‚è£é£¾å™¨åŒ…è£åŸå‡½æ•¸ï¼Œå¯ä»¥åœ¨åŸ·è¡Œå‰å¾Œæ·»åŠ é¡å¤–åŠŸèƒ½ã€‚",
                reference: "Pythoné€²éš - è£é£¾å™¨æ¨¡å¼",
                codeExample: "# è£é£¾å™¨ç¤ºä¾‹\ndef timer_decorator(func):\n    import time\n    def wrapper(*args, **kwargs):\n        start = time.time()\n        result = func(*args, **kwargs)\n        end = time.time()\n        print(f'{func.__name__} åŸ·è¡Œæ™‚é–“: {end-start:.4f}ç§’')\n        return result\n    return wrapper\n\n@timer_decorator\ndef slow_function():\n    import time\n    time.sleep(1)\n    return 'Done'"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `def outer_function(x):
    def inner_function(y):
        return x + y
    return inner_function

add_10 = outer_function(10)
result = add_10(5)
print(result)`,
                options: ["15", "10", "5", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "hard",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "é€™å±•ç¤ºäº†Pythonçš„é–‰åŒ…(closure)æ¦‚å¿µã€‚inner_functionè¨˜ä½äº†å¤–éƒ¨å‡½æ•¸çš„è®Šæ•¸x=10ã€‚ç•¶outer_function(10)è¿”å›inner_functionæ™‚ï¼Œxçš„å€¼è¢«ä¿å­˜ã€‚å¾Œä¾†èª¿ç”¨add_10(5)æ™‚ï¼Œx=10, y=5ï¼Œè¿”å›15ã€‚",
                reference: "Pythoné€²éš - é–‰åŒ…èˆ‡ä½œç”¨åŸŸ",
                codeExample: "# é–‰åŒ…ç¤ºä¾‹\ndef make_multiplier(n):\n    def multiplier(x):\n        return x * n  # nä¾†è‡ªå¤–éƒ¨ä½œç”¨åŸŸ\n    return multiplier\n\n# å‰µå»ºä¸åŒçš„ä¹˜æ³•å™¨\ndouble = make_multiplier(2)\ntriple = make_multiplier(3)\n\nprint(double(5))  # 10\nprint(triple(5))  # 15\n\n# æª¢æŸ¥é–‰åŒ…è®Šæ•¸\nprint(double.__closure__[0].cell_contents)  # 2"
            },
            {
                question: "Pythonæ¨¡çµ„çš„å°å…¥æ–¹å¼æœ‰å“ªäº›ï¼Ÿ",
                options: ["åªæœ‰import module", "import module å’Œ from module import *", "import, from...import, import...as", "åªæœ‰from module import function"],
                correct: 2,
                difficulty: "medium",
                topic: "å‡½æ•¸èˆ‡æ¨¡çµ„",
                explanation: "Pythonæœ‰å¤šç¨®å°å…¥æ–¹å¼ï¼š1) import module 2) from module import function 3) import module as alias 4) from module import * (ä¸æ¨è–¦)ã€‚æ¯ç¨®æ–¹å¼éƒ½æœ‰ä¸åŒçš„å‘½åç©ºé–“å½±éŸ¿ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - æ¨¡çµ„ç³»çµ±",
                codeExample: "# ä¸åŒçš„å°å…¥æ–¹å¼\n# 1. åŸºæœ¬å°å…¥\nimport math\nprint(math.pi)\n\n# 2. å°å…¥ç‰¹å®šå‡½æ•¸\nfrom math import pi, sqrt\nprint(pi)\n\n# 3. ä½¿ç”¨åˆ¥å\nimport math as m\nprint(m.e)\n\n# 4. å°å…¥æ‰€æœ‰ï¼ˆä¸æ¨è–¦ï¼‰\n# from math import *\n\n# 5. ç›¸å°å°å…¥ï¼ˆåœ¨åŒ…ä¸­ï¼‰\n# from .module import function\n# from ..parent import function"
            },
            
            // ç¬¬5ç« ï¼šç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ (280é¡Œ)
            {
                question: "Pythonä¸­å®šç¾©é¡åˆ¥çš„é—œéµå­—æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["class", "Class", "object", "Object"],
                correct: 0,
                difficulty: "easy",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "Pythonä½¿ç”¨ 'class' é—œéµå­—ä¾†å®šç¾©é¡åˆ¥ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬9ç« ï¼šé¡åˆ¥"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `class Dog:
    def __init__(self, name):
        self.name = name
    
    def bark(self):
        return f"{self.name} says Woof!"

my_dog = Dog("Buddy")
print(my_dog.bark())`,
                options: ["Buddy", "Woof!", "Buddy says Woof!", "Dog says Woof!"],
                correct: 2,
                difficulty: "medium",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "å»ºç«‹Dogç‰©ä»¶æ™‚nameè¨­ç‚º'Buddy'ï¼Œbark()æ–¹æ³•è¿”å›æ ¼å¼åŒ–å­—ä¸²ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬9ç« ï¼šé¡åˆ¥å’Œæ–¹æ³•"
            },
            {
                question: "Pythonä¸­çš„ç¹¼æ‰¿ä½¿ç”¨ä»€éº¼èªæ³•ï¼Ÿ",
                options: ["class Child extends Parent:", "class Child(Parent):", "class Child inherits Parent:", "class Child -> Parent:"],
                correct: 1,
                difficulty: "medium",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "Pythonä½¿ç”¨æ‹¬è™Ÿèªæ³•ä¾†è¡¨ç¤ºç¹¼æ‰¿é—œä¿‚ï¼šclass Child(Parent):",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬9ç« ï¼šç¹¼æ‰¿"
            },
            {
                question: "__init__ æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["åˆªé™¤ç‰©ä»¶", "åˆå§‹åŒ–ç‰©ä»¶", "è¤‡è£½ç‰©ä»¶", "æ¯”è¼ƒç‰©ä»¶"],
                correct: 1,
                difficulty: "easy",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "__init__ æ˜¯å»ºæ§‹å­æ–¹æ³•ï¼Œç”¨æ–¼åˆå§‹åŒ–æ–°å»ºç«‹çš„ç‰©ä»¶ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬8ç« ï¼šé¡åˆ¥åˆå§‹åŒ–"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼ä¸­ï¼Œselfåƒæ•¸çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ",
                code: `class Car:
    def __init__(self, brand):
        self.brand = brand`,
                options: ["è¡¨ç¤ºé¡åˆ¥æœ¬èº«", "è¡¨ç¤ºç‰©ä»¶å¯¦ä¾‹", "è¡¨ç¤ºçˆ¶é¡åˆ¥", "è¡¨ç¤ºæ–¹æ³•"],
                correct: 1,
                difficulty: "medium",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "selfåƒæ•¸ä»£è¡¨ç‰©ä»¶å¯¦ä¾‹æœ¬èº«ï¼Œç”¨æ–¼å­˜å–å¯¦ä¾‹çš„å±¬æ€§å’Œæ–¹æ³•ã€‚åœ¨Pythonä¸­ï¼Œselfå¿…é ˆæ˜¯å¯¦ä¾‹æ–¹æ³•çš„ç¬¬ä¸€å€‹åƒæ•¸ï¼Œä½†èª¿ç”¨æ™‚ä¸éœ€è¦å‚³éã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬9ç« ï¼šselfåƒæ•¸",
                codeExample: "# selfåƒæ•¸ç¤ºä¾‹\nclass Person:\n    def __init__(self, name):\n        self.name = name  # self.nameæ˜¯å¯¦ä¾‹å±¬æ€§\n    \n    def greet(self):\n        return f'Hello, I am {self.name}'  # ä½¿ç”¨selfå­˜å–å±¬æ€§\n\n# ä½¿ç”¨\nperson = Person('Alice')\nprint(person.greet())  # èª¿ç”¨æ™‚ä¸éœ€è¦å‚³éself"
            },
            {
                question: "Pythonä¸­çš„é¡åˆ¥è®Šæ•¸å’Œå¯¦ä¾‹è®Šæ•¸æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ",
                code: `class Counter:
    count = 0  # é¡åˆ¥è®Šæ•¸
    
    def __init__(self):
        Counter.count += 1
        self.instance_id = Counter.count  # å¯¦ä¾‹è®Šæ•¸

c1 = Counter()
c2 = Counter()
print(Counter.count, c1.instance_id, c2.instance_id)`,
                options: ["2 1 2", "1 1 1", "0 1 2", "2 2 2"],
                correct: 0,
                difficulty: "hard",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "é¡åˆ¥è®Šæ•¸è¢«æ‰€æœ‰å¯¦ä¾‹å…±äº«ï¼Œå¯¦ä¾‹è®Šæ•¸å±¬æ–¼ç‰¹å®šå¯¦ä¾‹ã€‚æ¯æ¬¡å‰µå»ºå¯¦ä¾‹æ™‚countå¢åŠ ï¼Œc1çš„instance_idæ˜¯1ï¼Œc2çš„æ˜¯2ï¼Œæœ€çµ‚countæ˜¯2ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - é¡åˆ¥å’Œå¯¦ä¾‹è®Šæ•¸",
                codeExample: "# é¡åˆ¥è®Šæ•¸ vs å¯¦ä¾‹è®Šæ•¸\nclass Student:\n    school = 'Pythonå¤§å­¸'  # é¡åˆ¥è®Šæ•¸ï¼Œæ‰€æœ‰å¯¦ä¾‹å…±äº«\n    \n    def __init__(self, name):\n        self.name = name  # å¯¦ä¾‹è®Šæ•¸ï¼Œæ¯å€‹å¯¦ä¾‹ç¨æœ‰\n\ns1 = Student('Alice')\ns2 = Student('Bob')\n\nprint(s1.school)  # Pythonå¤§å­¸\nprint(s2.school)  # Pythonå¤§å­¸\nprint(s1.name)    # Alice\nprint(s2.name)    # Bob\n\n# ä¿®æ”¹é¡åˆ¥è®Šæ•¸å½±éŸ¿æ‰€æœ‰å¯¦ä¾‹\nStudent.school = 'Javaå¤§å­¸'\nprint(s1.school)  # Javaå¤§å­¸"
            },
            {
                question: "Pythonä¸­çš„æ–¹æ³•é‡å¯«(method overriding)æ˜¯ä»€éº¼ï¼Ÿ",
                code: `class Animal:
    def make_sound(self):
        return "Some sound"

class Dog(Animal):
    def make_sound(self):
        return "Woof!"

dog = Dog()
print(dog.make_sound())`,
                options: ["Some sound", "Woof!", "éŒ¯èª¤", "Some sound Woof!"],
                correct: 1,
                difficulty: "medium",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "æ–¹æ³•é‡å¯«æ˜¯å­é¡åˆ¥é‡æ–°å®šç¾©çˆ¶é¡åˆ¥çš„æ–¹æ³•ã€‚Dogé¡åˆ¥é‡å¯«äº†Animalçš„make_soundæ–¹æ³•ï¼Œæ‰€ä»¥èª¿ç”¨æ™‚åŸ·è¡Œå­é¡åˆ¥çš„ç‰ˆæœ¬ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - æ–¹æ³•é‡å¯«",
                codeExample: "# æ–¹æ³•é‡å¯«ç¤ºä¾‹\nclass Vehicle:\n    def start(self):\n        return 'è»Šè¼›å•Ÿå‹•'\n    \n    def stop(self):\n        return 'è»Šè¼›åœæ­¢'\n\nclass Car(Vehicle):\n    def start(self):  # é‡å¯«çˆ¶é¡åˆ¥æ–¹æ³•\n        return 'æ±½è»Šå¼•æ“å•Ÿå‹•'\n    \n    # stopæ–¹æ³•ç¹¼æ‰¿è‡ªçˆ¶é¡åˆ¥\n\nclass Bicycle(Vehicle):\n    def start(self):  # é‡å¯«çˆ¶é¡åˆ¥æ–¹æ³•\n        return 'é–‹å§‹è¸©è¸æ¿'\n\ncar = Car()\nbike = Bicycle()\nprint(car.start())   # æ±½è»Šå¼•æ“å•Ÿå‹•\nprint(bike.start())  # é–‹å§‹è¸©è¸æ¿\nprint(car.stop())    # è»Šè¼›åœæ­¢ï¼ˆç¹¼æ‰¿ï¼‰"
            },
            {
                question: "Pythonä¸­çš„super()å‡½æ•¸æœ‰ä»€éº¼ä½œç”¨ï¼Ÿ",
                code: `class Parent:
    def __init__(self, name):
        self.name = name

class Child(Parent):
    def __init__(self, name, age):
        super().__init__(name)
        self.age = age

child = Child("Alice", 10)
print(child.name, child.age)`,
                options: ["Alice 10", "éŒ¯èª¤", "None 10", "Alice None"],
                correct: 0,
                difficulty: "medium",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "super()ç”¨æ–¼èª¿ç”¨çˆ¶é¡åˆ¥çš„æ–¹æ³•ã€‚super().__init__(name)èª¿ç”¨çˆ¶é¡åˆ¥çš„å»ºæ§‹å­ï¼Œè¨­å®šnameå±¬æ€§ï¼Œç„¶å¾Œå­é¡åˆ¥å†è¨­å®šageå±¬æ€§ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - super()å‡½æ•¸",
                codeExample: "# super()ä½¿ç”¨ç¤ºä¾‹\nclass Animal:\n    def __init__(self, species):\n        self.species = species\n        print(f'Animalåˆå§‹åŒ–: {species}')\n    \n    def info(self):\n        return f'æˆ‘æ˜¯{self.species}'\n\nclass Dog(Animal):\n    def __init__(self, species, breed):\n        super().__init__(species)  # èª¿ç”¨çˆ¶é¡åˆ¥å»ºæ§‹å­\n        self.breed = breed\n        print(f'Dogåˆå§‹åŒ–: {breed}')\n    \n    def info(self):\n        parent_info = super().info()  # èª¿ç”¨çˆ¶é¡åˆ¥æ–¹æ³•\n        return f'{parent_info}ï¼Œå“ç¨®æ˜¯{self.breed}'\n\ndog = Dog('çŠ¬é¡', 'é»ƒé‡‘çµçŠ¬')\nprint(dog.info())"
            },
            {
                question: "Pythonä¸­çš„ç§æœ‰å±¬æ€§å’Œæ–¹æ³•å¦‚ä½•å®šç¾©ï¼Ÿ",
                code: `class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # ç§æœ‰å±¬æ€§
    
    def __validate(self):  # ç§æœ‰æ–¹æ³•
        return self.__balance >= 0
    
    def get_balance(self):
        return self.__balance

account = BankAccount(1000)
print(account.get_balance())
# print(account.__balance)  # é€™è¡Œæœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ`,
                options: ["1000ï¼Œç¬¬äºŒè¡Œæ­£å¸¸åŸ·è¡Œ", "1000ï¼Œç¬¬äºŒè¡ŒæœƒéŒ¯èª¤", "éŒ¯èª¤", "0"],
                correct: 1,
                difficulty: "hard",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "Pythonä½¿ç”¨é›™åº•ç·š__é–‹é ­è¡¨ç¤ºç§æœ‰å±¬æ€§/æ–¹æ³•ã€‚é€™æœƒè§¸ç™¼åç¨±ä¿®é£¾(name mangling)ï¼Œå¤–éƒ¨ç„¡æ³•ç›´æ¥å­˜å–ã€‚account.__balanceæœƒå¼•ç™¼AttributeErrorã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - ç§æœ‰è®Šæ•¸",
                codeExample: "# ç§æœ‰å±¬æ€§ç¤ºä¾‹\nclass SecretBox:\n    def __init__(self):\n        self.public = 'å…¬é–‹è³‡æ–™'\n        self._protected = 'å—ä¿è­·è³‡æ–™'  # æ…£ä¾‹ï¼šå–®åº•ç·šè¡¨ç¤ºå…§éƒ¨ä½¿ç”¨\n        self.__private = 'ç§æœ‰è³‡æ–™'    # é›™åº•ç·šè¡¨ç¤ºç§æœ‰\n    \n    def show_private(self):\n        return self.__private\n\nbox = SecretBox()\nprint(box.public)        # OK\nprint(box._protected)    # OKï¼ˆä½†ä¸å»ºè­°ï¼‰\n# print(box.__private)   # AttributeError\nprint(box.show_private()) # OKï¼Œé€šéæ–¹æ³•å­˜å–\n\n# å¯¦éš›ä¸Šå¯ä»¥é€™æ¨£å­˜å–ï¼ˆä½†ä¸æ‡‰è©²ï¼‰\nprint(box._SecretBox__private)  # åç¨±ä¿®é£¾å¾Œçš„çœŸå¯¦åç¨±"
            },
            {
                question: "Pythonä¸­çš„å¤šé‡ç¹¼æ‰¿æ˜¯ä»€éº¼ï¼Ÿ",
                code: `class A:
    def method(self):
        print("A")

class B:
    def method(self):
        print("B")

class C(A, B):
    pass

c = C()
c.method()`,
                options: ["A", "B", "A B", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "hard",
                topic: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ",
                explanation: "Pythonæ”¯æ´å¤šé‡ç¹¼æ‰¿ã€‚ç•¶æœ‰æ–¹æ³•åç¨±è¡çªæ™‚ï¼Œä½¿ç”¨MRO(Method Resolution Order)æ±ºå®šèª¿ç”¨é †åºã€‚C(A, B)è¡¨ç¤ºAåœ¨Bä¹‹å‰ï¼Œæ‰€ä»¥èª¿ç”¨Açš„methodã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - å¤šé‡ç¹¼æ‰¿å’ŒMRO",
                codeExample: "# å¤šé‡ç¹¼æ‰¿å’ŒMROç¤ºä¾‹\nclass Animal:\n    def speak(self):\n        print('å‹•ç‰©å«è²')\n\nclass Mammal:\n    def speak(self):\n        print('å“ºä¹³å‹•ç‰©å«è²')\n    \n    def feed_milk(self):\n        print('é¤µå¥¶')\n\nclass Dog(Animal, Mammal):\n    pass\n\ndog = Dog()\ndog.speak()      # å‹•ç‰©å«è²ï¼ˆAnimalåœ¨å‰ï¼‰\ndog.feed_milk()  # é¤µå¥¶ï¼ˆå¾Mammalç¹¼æ‰¿ï¼‰\n\n# æŸ¥çœ‹MRO\nprint(Dog.__mro__)\n# (<class '__main__.Dog'>, <class '__main__.Animal'>, \n#  <class '__main__.Mammal'>, <class 'object'>)"
            },
            
            // ç¬¬6ç« ï¼šæª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç† (200é¡Œ)
            {
                question: "é–‹å•Ÿæª”æ¡ˆé€²è¡Œè®€å–çš„æ­£ç¢ºæ–¹å¼æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["open('file.txt', 'w')", "open('file.txt', 'r')", "open('file.txt', 'a')", "open('file.txt', 'x')"],
                correct: 1,
                difficulty: "easy",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "'r' æ¨¡å¼ç”¨æ–¼è®€å–æª”æ¡ˆï¼Œ'w'ç”¨æ–¼å¯«å…¥ï¼Œ'a'ç”¨æ–¼é™„åŠ ï¼Œ'x'ç”¨æ–¼ç¨ä½”å»ºç«‹ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬10ç« ï¼šæª”æ¡ˆå’Œç•°å¸¸"
            },
            {
                question: "try-exceptèªå¥çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["åŸ·è¡Œè¿´åœˆ", "å®šç¾©å‡½æ•¸", "è™•ç†ç•°å¸¸", "å»ºç«‹é¡åˆ¥"],
                correct: 2,
                difficulty: "easy",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "try-exceptèªå¥ç”¨æ–¼æ•ç²å’Œè™•ç†ç¨‹å¼åŸ·è¡Œæ™‚å¯èƒ½ç™¼ç”Ÿçš„ç•°å¸¸ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬10ç« ï¼šç•°å¸¸è™•ç†"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ",
                code: `try:
    result = 10 / 0
except ZeroDivisionError:
    print("Cannot divide by zero")
except Exception as e:
    print(f"Error: {e}")`,
                options: ["ç¨‹å¼å´©æ½°", "è¼¸å‡º 'Cannot divide by zero'", "è¼¸å‡º 'Error: division by zero'", "æ²’æœ‰è¼¸å‡º"],
                correct: 1,
                difficulty: "medium",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "é™¤ä»¥é›¶æœƒå¼•ç™¼ZeroDivisionErrorï¼Œè¢«ç¬¬ä¸€å€‹exceptæ•ç²ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬10ç« ï¼šç‰¹å®šç•°å¸¸"
            },
            {
                question: "withèªå¥åœ¨æª”æ¡ˆè™•ç†ä¸­çš„å„ªé»æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["æé«˜è®€å–é€Ÿåº¦", "è‡ªå‹•é—œé–‰æª”æ¡ˆ", "æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨", "é˜²æ­¢æª”æ¡ˆæå£"],
                correct: 1,
                difficulty: "medium",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "withèªå¥æœƒè‡ªå‹•ç®¡ç†æª”æ¡ˆçš„é–‹å•Ÿå’Œé—œé–‰ï¼Œå³ä½¿ç™¼ç”Ÿç•°å¸¸ä¹Ÿæœƒæ­£ç¢ºé—œé–‰æª”æ¡ˆã€‚",
                reference: "Automate the Boring Stuff with Python - ç¬¬8ç« ï¼šæª”æ¡ˆè™•ç†"
            },
            {
                question: "finallyèªå¥çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["åªåœ¨æ²’æœ‰ç•°å¸¸æ™‚åŸ·è¡Œ", "åªåœ¨æœ‰ç•°å¸¸æ™‚åŸ·è¡Œ", "ç„¡è«–æ˜¯å¦æœ‰ç•°å¸¸éƒ½åŸ·è¡Œ", "çµ‚æ­¢ç¨‹å¼"],
                correct: 2,
                difficulty: "medium",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "finallyèªå¥ä¸­çš„ç¨‹å¼ç¢¼ç„¡è«–æ˜¯å¦ç™¼ç”Ÿç•°å¸¸éƒ½æœƒåŸ·è¡Œï¼Œé€šå¸¸ç”¨æ–¼æ¸…ç†è³‡æºã€‚å³ä½¿åœ¨tryæˆ–exceptä¸­æœ‰returnèªå¥ï¼Œfinallyä¹ŸæœƒåŸ·è¡Œã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬7ç« ï¼šfinallyèªå¥",
                codeExample: "# finallyèªå¥ç¤ºä¾‹\ndef test_finally():\n    try:\n        print('tryå€å¡Š')\n        return 'tryè¿”å›å€¼'\n    except:\n        print('exceptå€å¡Š')\n        return 'exceptè¿”å›å€¼'\n    finally:\n        print('finallyå€å¡Šç¸½æ˜¯åŸ·è¡Œ')  # å³ä½¿æœ‰returnä¹ŸæœƒåŸ·è¡Œ\n\nresult = test_finally()\nprint(f'å‡½æ•¸è¿”å›: {result}')\n\n# è¼¸å‡º:\n# tryå€å¡Š\n# finallyå€å¡Šç¸½æ˜¯åŸ·è¡Œ\n# å‡½æ•¸è¿”å›: tryè¿”å›å€¼"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ",
                code: `try:
    with open('nonexistent.txt', 'r') as file:
        content = file.read()
except FileNotFoundError as e:
    print(f"æª”æ¡ˆä¸å­˜åœ¨: {e}")
except PermissionError as e:
    print(f"æ¬Šé™éŒ¯èª¤: {e}")
except Exception as e:
    print(f"å…¶ä»–éŒ¯èª¤: {e}")`,
                options: ["æª”æ¡ˆä¸å­˜åœ¨è¨Šæ¯", "æ¬Šé™éŒ¯èª¤è¨Šæ¯", "å…¶ä»–éŒ¯èª¤è¨Šæ¯", "ç¨‹å¼å´©æ½°"],
                correct: 0,
                difficulty: "medium",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "ç•¶æª”æ¡ˆä¸å­˜åœ¨æ™‚ï¼Œopen()æœƒå¼•ç™¼FileNotFoundErrorã€‚ç•°å¸¸è™•ç†æŒ‰é †åºæª¢æŸ¥ï¼Œç¬¬ä¸€å€‹åŒ¹é…çš„exceptå­å¥æœƒè¢«åŸ·è¡Œã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - ç•°å¸¸å±¤æ¬¡çµæ§‹",
                codeExample: "# ç•°å¸¸è™•ç†å±¤æ¬¡ç¤ºä¾‹\nimport os\n\ndef safe_file_operation(filename):\n    try:\n        with open(filename, 'r') as f:\n            return f.read()\n    except FileNotFoundError:\n        return f'æª”æ¡ˆ {filename} ä¸å­˜åœ¨'\n    except PermissionError:\n        return f'æ²’æœ‰æ¬Šé™è®€å– {filename}'\n    except IsADirectoryError:\n        return f'{filename} æ˜¯ç›®éŒ„ï¼Œä¸æ˜¯æª”æ¡ˆ'\n    except Exception as e:\n        return f'æœªé æœŸçš„éŒ¯èª¤: {type(e).__name__}: {e}'\n\n# æ¸¬è©¦ä¸åŒæƒ…æ³\nprint(safe_file_operation('nonexistent.txt'))\nprint(safe_file_operation('/etc/shadow'))  # æ¬Šé™å•é¡Œ\nprint(safe_file_operation('/'))  # ç›®éŒ„å•é¡Œ"
            },
            {
                question: "Pythonä¸­çš„è‡ªå®šç¾©ç•°å¸¸å¦‚ä½•å‰µå»ºï¼Ÿ",
                code: `class CustomError(Exception):
    def __init__(self, message):
        self.message = message
        super().__init__(self.message)

def validate_age(age):
    if age < 0:
        raise CustomError("å¹´é½¡ä¸èƒ½ç‚ºè² æ•¸")
    if age > 150:
        raise CustomError("å¹´é½¡ä¸èƒ½è¶…é150æ­²")
    return True

try:
    validate_age(-5)
except CustomError as e:
    print(f"é©—è­‰éŒ¯èª¤: {e}")`,
                options: ["é©—è­‰éŒ¯èª¤: å¹´é½¡ä¸èƒ½ç‚ºè² æ•¸", "é©—è­‰éŒ¯èª¤: å¹´é½¡ä¸èƒ½è¶…é150æ­²", "ç¨‹å¼å´©æ½°", "æ²’æœ‰è¼¸å‡º"],
                correct: 0,
                difficulty: "hard",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "è‡ªå®šç¾©ç•°å¸¸é€šéç¹¼æ‰¿Exceptioné¡å‰µå»ºã€‚validate_age(-5)è§¸ç™¼ç¬¬ä¸€å€‹æ¢ä»¶ï¼Œå¼•ç™¼CustomErrorç•°å¸¸ï¼Œè¢«exceptæ•ç²ä¸¦è¼¸å‡ºéŒ¯èª¤è¨Šæ¯ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - è‡ªå®šç¾©ç•°å¸¸",
                codeExample: "# è‡ªå®šç¾©ç•°å¸¸ç¤ºä¾‹\nclass ValidationError(Exception):\n    \"\"\"é©—è­‰éŒ¯èª¤çš„åŸºé¡\"\"\"\n    pass\n\nclass AgeError(ValidationError):\n    \"\"\"å¹´é½¡ç›¸é—œéŒ¯èª¤\"\"\"\n    def __init__(self, age, message=None):\n        self.age = age\n        if message is None:\n            message = f'ç„¡æ•ˆçš„å¹´é½¡: {age}'\n        super().__init__(message)\n\nclass EmailError(ValidationError):\n    \"\"\"é›»å­éƒµä»¶ç›¸é—œéŒ¯èª¤\"\"\"\n    pass\n\ndef validate_user(age, email):\n    if not 0 <= age <= 120:\n        raise AgeError(age)\n    if '@' not in email:\n        raise EmailError(f'ç„¡æ•ˆçš„é›»å­éƒµä»¶: {email}')\n    return True\n\n# ä½¿ç”¨è‡ªå®šç¾©ç•°å¸¸\ntry:\n    validate_user(-1, 'invalid-email')\nexcept AgeError as e:\n    print(f'å¹´é½¡éŒ¯èª¤: {e}')\nexcept EmailError as e:\n    print(f'éƒµä»¶éŒ¯èª¤: {e}')\nexcept ValidationError as e:\n    print(f'é©—è­‰éŒ¯èª¤: {e}')"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼çš„è¼¸å‡ºæ˜¯ä»€éº¼ï¼Ÿ",
                code: `import json

data = {'name': 'å¼µä¸‰', 'age': 30, 'city': 'å°åŒ—'}

try:
    json_string = json.dumps(data, ensure_ascii=False)
    parsed_data = json.loads(json_string)
    print(parsed_data['name'])
except json.JSONDecodeError as e:
    print(f"JSONéŒ¯èª¤: {e}")
except KeyError as e:
    print(f"éµéŒ¯èª¤: {e}")`,
                options: ["å¼µä¸‰", "JSONéŒ¯èª¤", "éµéŒ¯èª¤", "ç¨‹å¼å´©æ½°"],
                correct: 0,
                difficulty: "medium",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "ç¨‹å¼ç¢¼æ­£å¸¸åŸ·è¡Œï¼šå°‡å­—å…¸è½‰ç‚ºJSONå­—ä¸²ï¼Œå†è§£æå›å­—å…¸ï¼Œç„¶å¾Œè¼¸å‡ºnameéµçš„å€¼'å¼µä¸‰'ã€‚ensure_ascii=Falseç¢ºä¿ä¸­æ–‡å­—ç¬¦æ­£ç¢ºé¡¯ç¤ºã€‚",
                reference: "Pythonæ¨™æº–åº« - jsonæ¨¡çµ„",
                codeExample: "# JSONè™•ç†ç¤ºä¾‹\nimport json\n\n# è¤‡é›œçš„è³‡æ–™çµæ§‹\ndata = {\n    'users': [\n        {'name': 'ç‹å°æ˜', 'age': 25, 'hobbies': ['è®€æ›¸', 'æ¸¸æ³³']},\n        {'name': 'æå°è¯', 'age': 30, 'hobbies': ['é›»å½±', 'æ—…è¡Œ']}\n    ],\n    'total': 2\n}\n\ntry:\n    # åºåˆ—åŒ–ç‚ºJSON\n    json_str = json.dumps(data, ensure_ascii=False, indent=2)\n    print('JSONå­—ä¸²:')\n    print(json_str)\n    \n    # ååºåˆ—åŒ–\n    parsed = json.loads(json_str)\n    print(f'\\nç¬¬ä¸€å€‹ç”¨æˆ¶: {parsed[\"users\"][0][\"name\"]}')\n    \nexcept json.JSONDecodeError as e:\n    print(f'JSONè§£æéŒ¯èª¤: {e}')\nexcept (KeyError, IndexError) as e:\n    print(f'è³‡æ–™å­˜å–éŒ¯èª¤: {e}')"
            },
            {
                question: "Pythonä¸­çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨(context manager)æ˜¯ä»€éº¼ï¼Ÿ",
                code: `class MyContextManager:
    def __enter__(self):
        print("é€²å…¥ä¸Šä¸‹æ–‡")
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print("é›¢é–‹ä¸Šä¸‹æ–‡")
        return False

with MyContextManager() as cm:
    print("åœ¨ä¸Šä¸‹æ–‡ä¸­")`,
                options: ["åªè¼¸å‡º'åœ¨ä¸Šä¸‹æ–‡ä¸­'", "é€²å…¥ä¸Šä¸‹æ–‡\\nåœ¨ä¸Šä¸‹æ–‡ä¸­\\né›¢é–‹ä¸Šä¸‹æ–‡", "éŒ¯èª¤", "æ²’æœ‰è¼¸å‡º"],
                correct: 1,
                difficulty: "hard",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯¦ç¾__enter__å’Œ__exit__æ–¹æ³•ï¼Œé…åˆwithèªå¥ä½¿ç”¨ã€‚é€²å…¥æ™‚èª¿ç”¨__enter__ï¼Œé›¢é–‹æ™‚èª¿ç”¨__exit__ï¼Œç¢ºä¿è³‡æºæ­£ç¢ºæ¸…ç†ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - ä¸Šä¸‹æ–‡ç®¡ç†å™¨",
                codeExample: "# å¯¦ç”¨çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç¤ºä¾‹\nimport time\n\nclass Timer:\n    def __enter__(self):\n        self.start = time.time()\n        print('é–‹å§‹è¨ˆæ™‚')\n        return self\n    \n    def __exit__(self, exc_type, exc_val, exc_tb):\n        self.end = time.time()\n        print(f'åŸ·è¡Œæ™‚é–“: {self.end - self.start:.4f}ç§’')\n        return False  # ä¸æŠ‘åˆ¶ç•°å¸¸\n\n# ä½¿ç”¨è¨ˆæ™‚å™¨\nwith Timer():\n    # æ¨¡æ“¬ä¸€äº›å·¥ä½œ\n    sum(range(1000000))\n    print('å·¥ä½œå®Œæˆ')\n\n# ä¹Ÿå¯ä»¥ç”¨contextlib.contextmanagerè£é£¾å™¨\nfrom contextlib import contextmanager\n\n@contextmanager\ndef file_manager(filename, mode):\n    print(f'é–‹å•Ÿæª”æ¡ˆ: {filename}')\n    f = open(filename, mode)\n    try:\n        yield f\n    finally:\n        print(f'é—œé–‰æª”æ¡ˆ: {filename}')\n        f.close()"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `def risky_function():
    try:
        return 1/0
    except ZeroDivisionError:
        return "é™¤é›¶éŒ¯èª¤"
    finally:
        return "finallyè¿”å›"

result = risky_function()
print(result)`,
                options: ["é™¤é›¶éŒ¯èª¤", "finallyè¿”å›", "éŒ¯èª¤", "1/0çš„çµæœ"],
                correct: 1,
                difficulty: "hard",
                topic: "æª”æ¡ˆè™•ç†èˆ‡ç•°å¸¸è™•ç†",
                explanation: "finallyä¸­çš„returnæœƒè¦†è“‹tryå’Œexceptä¸­çš„returnã€‚é›–ç„¶exceptæ•ç²äº†ç•°å¸¸ä¸¦è¦è¿”å›'é™¤é›¶éŒ¯èª¤'ï¼Œä½†finallyçš„returnæœƒè¦†è“‹å®ƒï¼Œæœ€çµ‚è¿”å›'finallyè¿”å›'ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - finallyèªå¥çš„ç‰¹æ®Šè¡Œç‚º",
                codeExample: "# finally returnçš„å½±éŸ¿\ndef test_returns():\n    try:\n        print('tryå€å¡Š')\n        return 'tryè¿”å›'\n    except:\n        print('exceptå€å¡Š')\n        return 'exceptè¿”å›'\n    finally:\n        print('finallyå€å¡Š')\n        # æ³¨æ„ï¼šfinallyä¸­çš„returnæœƒè¦†è“‹å…¶ä»–return\n        # return 'finallyè¿”å›'  # å¦‚æœå–æ¶ˆè¨»è§£ï¼Œæœƒè¦†è“‹tryçš„return\n\nresult = test_returns()\nprint(f'æœ€çµ‚çµæœ: {result}')\n\n# æ›´å¥½çš„åšæ³•ï¼šåœ¨finallyä¸­ä¸ä½¿ç”¨return\ndef better_function():\n    result = None\n    try:\n        result = 'tryæˆåŠŸ'\n        return result\n    except Exception as e:\n        result = f'ç•°å¸¸: {e}'\n        return result\n    finally:\n        print(f'æ¸…ç†å·¥ä½œï¼Œçµæœæ˜¯: {result}')\n        # ä¸åœ¨finallyä¸­return"
            },
            
            // ç¬¬7ç« ï¼šè³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³• (300é¡Œ)
            {
                question: "Pythonä¸­çš„åˆ—è¡¨(list)å’Œå…ƒçµ„(tuple)çš„ä¸»è¦å·®åˆ¥æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["åˆ—è¡¨å¯è®Šï¼Œå…ƒçµ„ä¸å¯è®Š", "åˆ—è¡¨ä¸å¯è®Šï¼Œå…ƒçµ„å¯è®Š", "æ²’æœ‰å·®åˆ¥", "åªæœ‰èªæ³•ä¸åŒ"],
                correct: 0,
                difficulty: "easy",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "åˆ—è¡¨æ˜¯å¯è®Šçš„è³‡æ–™çµæ§‹ï¼Œå¯ä»¥ä¿®æ”¹å…ƒç´ ï¼›å…ƒçµ„æ˜¯ä¸å¯è®Šçš„ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬4ç« ï¼šåˆ—è¡¨vså…ƒçµ„"
            },
            {
                question: "ä»¥ä¸‹å“ªå€‹æ–¹æ³•å¯ä»¥å°‡å…©å€‹åˆ—è¡¨åˆä½µï¼Ÿ",
                options: ["list1.append(list2)", "list1.extend(list2)", "list1.insert(list2)", "list1.remove(list2)"],
                correct: 1,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "extend()æ–¹æ³•å°‡å¦ä¸€å€‹åˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°ç•¶å‰åˆ—è¡¨ä¸­ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬3ç« ï¼šåˆ—è¡¨æ–¹æ³•"
            },
            {
                question: "Pythonä¸­çš„é›†åˆ(set)æœ‰ä»€éº¼ç‰¹æ€§ï¼Ÿ",
                options: ["æœ‰åºä¸”å…è¨±é‡è¤‡", "ç„¡åºä¸”å…è¨±é‡è¤‡", "æœ‰åºä¸”ä¸å…è¨±é‡è¤‡", "ç„¡åºä¸”ä¸å…è¨±é‡è¤‡"],
                correct: 3,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "é›†åˆæ˜¯ç„¡åºçš„ï¼Œä¸”ä¸å…è¨±é‡è¤‡å…ƒç´ çš„è³‡æ–™çµæ§‹ã€‚",
                reference: "Pythonç¨‹å¼è¨­è¨ˆå…¥é–€ - ç¬¬5ç« ï¼šé›†åˆ"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `numbers = [3, 1, 4, 1, 5, 9, 2, 6]
numbers.sort()
print(numbers[:3])`,
                options: ["[3, 1, 4]", "[1, 1, 2]", "[6, 9, 5]", "[2, 9, 6]"],
                correct: 1,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "sort()æ–¹æ³•æœƒå°‡åˆ—è¡¨æ’åºç‚º[1, 1, 2, 3, 4, 5, 6, 9]ï¼Œ[:3]å–å‰ä¸‰å€‹å…ƒç´ ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬3ç« ï¼šåˆ—è¡¨æ’åº"
            },
            {
                question: "å­—å…¸çš„keys()æ–¹æ³•è¿”å›ä»€éº¼ï¼Ÿ",
                options: ["åˆ—è¡¨", "å…ƒçµ„", "å­—å…¸è¦–åœ–ç‰©ä»¶", "é›†åˆ"],
                correct: 2,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "keys()æ–¹æ³•è¿”å›ä¸€å€‹å­—å…¸è¦–åœ–ç‰©ä»¶ï¼ŒåŒ…å«å­—å…¸çš„æ‰€æœ‰éµã€‚è¦–åœ–ç‰©ä»¶æ˜¯å‹•æ…‹çš„ï¼Œæœƒåæ˜ å­—å…¸çš„è®ŠåŒ–ï¼Œå¯ä»¥é€²è¡Œé›†åˆé‹ç®—ã€‚",
                reference: "Python Crash Course ç¬¬2ç‰ˆ - ç¬¬6ç« ï¼šå­—å…¸æ–¹æ³•",
                codeExample: "# å­—å…¸è¦–åœ–ç‰©ä»¶ç¤ºä¾‹\ndata = {'a': 1, 'b': 2, 'c': 3}\n\n# ç²å–è¦–åœ–ç‰©ä»¶\nkeys_view = data.keys()\nvalues_view = data.values()\nitems_view = data.items()\n\nprint(f'éµè¦–åœ–: {keys_view}')\nprint(f'å€¼è¦–åœ–: {values_view}')\nprint(f'é …ç›®è¦–åœ–: {items_view}')\n\n# è¦–åœ–æ˜¯å‹•æ…‹çš„\ndata['d'] = 4\nprint(f'æ·»åŠ å¾Œçš„éµ: {keys_view}')  # è‡ªå‹•æ›´æ–°\n\n# è¦–åœ–å¯ä»¥é€²è¡Œé›†åˆé‹ç®—\nother_dict = {'b': 20, 'c': 30, 'e': 50}\ncommon_keys = data.keys() & other_dict.keys()\nprint(f'å…±åŒéµ: {common_keys}')  # {'b', 'c'}"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ",
                code: `from collections import Counter

text = "hello world"
counter = Counter(text)
print(counter.most_common(3))`,
                options: ["[('l', 3), ('o', 2), ('h', 1)]", "[('h', 1), ('e', 1), ('l', 3)]", "[('l', 3), ('o', 2), (' ', 1)]", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "Counterçµ±è¨ˆå­—ç¬¦å‡ºç¾æ¬¡æ•¸ï¼Œmost_common(3)è¿”å›å‡ºç¾æ¬¡æ•¸æœ€å¤šçš„3å€‹å…ƒç´ ã€‚'l'å‡ºç¾3æ¬¡ï¼Œ'o'å‡ºç¾2æ¬¡ï¼Œå…¶ä»–å­—ç¬¦å‡ºç¾1æ¬¡ã€‚",
                reference: "Pythonæ¨™æº–åº« - collections.Counter",
                codeExample: "# Counterä½¿ç”¨ç¤ºä¾‹\nfrom collections import Counter\n\n# çµ±è¨ˆå­—ç¬¦\ntext = 'programming'\nchar_count = Counter(text)\nprint(f'å­—ç¬¦çµ±è¨ˆ: {char_count}')\nprint(f'æœ€å¸¸è¦‹çš„2å€‹: {char_count.most_common(2)}')\n\n# çµ±è¨ˆå–®è©\nwords = ['apple', 'banana', 'apple', 'cherry', 'banana', 'apple']\nword_count = Counter(words)\nprint(f'å–®è©çµ±è¨ˆ: {word_count}')\n\n# Counteré‹ç®—\ncount1 = Counter('aab')\ncount2 = Counter('abc')\nprint(f'ç›¸åŠ : {count1 + count2}')\nprint(f'ç›¸æ¸›: {count1 - count2}')\nprint(f'äº¤é›†: {count1 & count2}')\nprint(f'è¯é›†: {count1 | count2}')"
            },
            {
                question: "Pythonä¸­çš„deque(é›™ç«¯ä½‡åˆ—)æœ‰ä»€éº¼å„ªå‹¢ï¼Ÿ",
                code: `from collections import deque

dq = deque([1, 2, 3])
dq.appendleft(0)
dq.append(4)
print(list(dq))`,
                options: ["[0, 1, 2, 3, 4]", "[1, 2, 3, 0, 4]", "[4, 0, 1, 2, 3]", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "medium",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "dequeæ”¯æ´å…©ç«¯çš„é«˜æ•ˆæ’å…¥å’Œåˆªé™¤æ“ä½œã€‚appendleft(0)åœ¨å·¦ç«¯æ’å…¥0ï¼Œappend(4)åœ¨å³ç«¯æ’å…¥4ï¼Œçµæœæ˜¯[0, 1, 2, 3, 4]ã€‚",
                reference: "Pythonæ¨™æº–åº« - collections.deque",
                codeExample: "# deque vs list æ€§èƒ½æ¯”è¼ƒ\nfrom collections import deque\nimport time\n\n# dequeåœ¨å…©ç«¯æ“ä½œå¾ˆå¿«\ndq = deque()\nstart = time.time()\nfor i in range(100000):\n    dq.appendleft(i)  # O(1)\ndeque_time = time.time() - start\n\n# liståœ¨å·¦ç«¯æ’å…¥å¾ˆæ…¢\nlst = []\nstart = time.time()\nfor i in range(100000):\n    lst.insert(0, i)  # O(n)\nlist_time = time.time() - start\n\nprint(f'dequeå·¦ç«¯æ’å…¥æ™‚é–“: {deque_time:.4f}ç§’')\nprint(f'listå·¦ç«¯æ’å…¥æ™‚é–“: {list_time:.4f}ç§’')\n\n# dequeçš„å…¶ä»–åŠŸèƒ½\ndq = deque([1, 2, 3, 4, 5], maxlen=3)  # é™åˆ¶é•·åº¦\ndq.append(6)  # è‡ªå‹•ç§»é™¤å·¦ç«¯å…ƒç´ \nprint(f'é™åˆ¶é•·åº¦çš„deque: {list(dq)}')  # [4, 5, 6]\n\ndq.rotate(1)  # å‘å³æ—‹è½‰\nprint(f'æ—‹è½‰å¾Œ: {list(dq)}')  # [6, 4, 5]"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼å¯¦ç¾äº†ä»€éº¼æ’åºæ¼”ç®—æ³•ï¼Ÿ",
                code: `def mystery_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, n-i-1):
            if arr[j] > arr[j+1]:
                arr[j], arr[j+1] = arr[j+1], arr[j]
    return arr

print(mystery_sort([64, 34, 25, 12, 22, 11, 90]))`,
                options: ["å¿«é€Ÿæ’åº", "åˆä½µæ’åº", "æ³¡æ²«æ’åº", "æ’å…¥æ’åº"],
                correct: 2,
                difficulty: "hard",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "é€™æ˜¯æ³¡æ²«æ’åºæ¼”ç®—æ³•ã€‚é€šéç›¸é„°å…ƒç´ çš„æ¯”è¼ƒå’Œäº¤æ›ï¼Œè¼ƒå¤§çš„å…ƒç´ é€æ¼¸'å†’æ³¡'åˆ°æ•¸çµ„æœ«å°¾ã€‚æ™‚é–“è¤‡é›œåº¦O(nÂ²)ã€‚",
                reference: "æ¼”ç®—æ³•å°è«– - æ’åºæ¼”ç®—æ³•",
                codeExample: "# å„ç¨®æ’åºæ¼”ç®—æ³•æ¯”è¼ƒ\n\n# 1. æ³¡æ²«æ’åº O(nÂ²)\ndef bubble_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        swapped = False\n        for j in range(0, n-i-1):\n            if arr[j] > arr[j+1]:\n                arr[j], arr[j+1] = arr[j+1], arr[j]\n                swapped = True\n        if not swapped:  # å„ªåŒ–ï¼šå¦‚æœæ²’æœ‰äº¤æ›ï¼Œå·²æ’åº\n            break\n    return arr\n\n# 2. é¸æ“‡æ’åº O(nÂ²)\ndef selection_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        min_idx = i\n        for j in range(i+1, n):\n            if arr[j] < arr[min_idx]:\n                min_idx = j\n        arr[i], arr[min_idx] = arr[min_idx], arr[i]\n    return arr\n\n# 3. æ’å…¥æ’åº O(nÂ²)\ndef insertion_sort(arr):\n    for i in range(1, len(arr)):\n        key = arr[i]\n        j = i - 1\n        while j >= 0 and arr[j] > key:\n            arr[j + 1] = arr[j]\n            j -= 1\n        arr[j + 1] = key\n    return arr\n\n# æ¸¬è©¦\ntest_data = [64, 34, 25, 12, 22, 11, 90]\nprint(f'æ³¡æ²«æ’åº: {bubble_sort(test_data.copy())}')\nprint(f'é¸æ“‡æ’åº: {selection_sort(test_data.copy())}')\nprint(f'æ’å…¥æ’åº: {insertion_sort(test_data.copy())}')"
            },
            {
                question: "Pythonä¸­çš„ç”Ÿæˆå™¨(generator)æœ‰ä»€éº¼å„ªå‹¢ï¼Ÿ",
                code: `def fibonacci_generator(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

fib = fibonacci_generator(5)
print(list(fib))`,
                options: ["[0, 1, 1, 2, 3]", "[1, 1, 2, 3, 5]", "[0, 1, 2, 3, 4]", "éŒ¯èª¤"],
                correct: 0,
                difficulty: "hard",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "ç”Ÿæˆå™¨ä½¿ç”¨yieldé—œéµå­—ï¼Œæƒ°æ€§æ±‚å€¼ï¼Œç¯€çœè¨˜æ†¶é«”ã€‚fibonacci_generatorç”Ÿæˆå‰5å€‹è²»æ³¢é‚£å¥‘æ•¸ï¼š0, 1, 1, 2, 3ã€‚",
                reference: "Pythonå®˜æ–¹æ–‡æª” - ç”Ÿæˆå™¨",
                codeExample: "# ç”Ÿæˆå™¨ vs åˆ—è¡¨æ¯”è¼ƒ\n\n# è¨˜æ†¶é«”æ•ˆç‡æ¯”è¼ƒ\ndef large_sequence_list(n):\n    \"\"\"è¿”å›åˆ—è¡¨ï¼Œä½”ç”¨å¤§é‡è¨˜æ†¶é«”\"\"\"\n    return [i**2 for i in range(n)]\n\ndef large_sequence_generator(n):\n    \"\"\"è¿”å›ç”Ÿæˆå™¨ï¼Œç¯€çœè¨˜æ†¶é«”\"\"\"\n    for i in range(n):\n        yield i**2\n\n# ä½¿ç”¨ç”Ÿæˆå™¨è¡¨é”å¼\nsquares_gen = (x**2 for x in range(10))\nprint(f'ç”Ÿæˆå™¨ç‰©ä»¶: {squares_gen}')\nprint(f'ç”Ÿæˆå™¨å…§å®¹: {list(squares_gen)}')\n\n# ç„¡é™ç”Ÿæˆå™¨\ndef infinite_counter(start=0):\n    while True:\n        yield start\n        start += 1\n\n# åªå–å‰5å€‹\ncounter = infinite_counter(10)\nfor i, value in enumerate(counter):\n    if i >= 5:\n        break\n    print(f'ç¬¬{i+1}å€‹å€¼: {value}')\n\n# ç”Ÿæˆå™¨ç®¡é“\ndef numbers():\n    for i in range(10):\n        yield i\n\ndef squares(nums):\n    for num in nums:\n        yield num ** 2\n\ndef evens(nums):\n    for num in nums:\n        if num % 2 == 0:\n            yield num\n\n# çµ„åˆç”Ÿæˆå™¨\nresult = evens(squares(numbers()))\nprint(f'å¶æ•¸å¹³æ–¹: {list(result)}')"
            },
            {
                question: "ä»¥ä¸‹ç¨‹å¼ç¢¼å¯¦ç¾äº†ä»€éº¼è³‡æ–™çµæ§‹ï¼Ÿ",
                code: `class Stack:
    def __init__(self):
        self.items = []
    
    def push(self, item):
        self.items.append(item)
    
    def pop(self):
        return self.items.pop()
    
    def is_empty(self):
        return len(self.items) == 0

stack = Stack()
stack.push(1)
stack.push(2)
print(stack.pop())`,
                options: ["ä½‡åˆ—(Queue)", "å †ç–Š(Stack)", "éˆçµä¸²åˆ—(Linked List)", "æ¨¹(Tree)"],
                correct: 1,
                difficulty: "easy",
                topic: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•",
                explanation: "é€™å¯¦ç¾äº†å †ç–Š(Stack)è³‡æ–™çµæ§‹ï¼Œéµå¾ªLIFO(Last In, First Out)åŸå‰‡ã€‚æœ€å¾Œæ”¾å…¥çš„å…ƒç´ æœ€å…ˆå–å‡ºï¼Œæ‰€ä»¥pop()è¿”å›2ã€‚",
                reference: "è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³• - å †ç–Š",
                codeExample: "# å®Œæ•´çš„å †ç–Šå¯¦ç¾\nclass Stack:\n    def __init__(self):\n        self.items = []\n    \n    def push(self, item):\n        \"\"\"å°‡å…ƒç´ æ¨å…¥å †ç–Šé ‚éƒ¨\"\"\"\n        self.items.append(item)\n    \n    def pop(self):\n        \"\"\"å¾å †ç–Šé ‚éƒ¨å½ˆå‡ºå…ƒç´ \"\"\"\n        if self.is_empty():\n            raise IndexError('pop from empty stack')\n        return self.items.pop()\n    \n    def peek(self):\n        \"\"\"æŸ¥çœ‹å †ç–Šé ‚éƒ¨å…ƒç´ ä½†ä¸ç§»é™¤\"\"\"\n        if self.is_empty():\n            raise IndexError('peek from empty stack')\n        return self.items[-1]\n    \n    def is_empty(self):\n        \"\"\"æª¢æŸ¥å †ç–Šæ˜¯å¦ç‚ºç©º\"\"\"\n        return len(self.items) == 0\n    \n    def size(self):\n        \"\"\"è¿”å›å †ç–Šå¤§å°\"\"\"\n        return len(self.items)\n    \n    def __str__(self):\n        return f'Stack({self.items})'\n\n# å †ç–Šçš„æ‡‰ç”¨ï¼šæ‹¬è™ŸåŒ¹é…\ndef is_balanced(expression):\n    stack = Stack()\n    pairs = {'(': ')', '[': ']', '{': '}'}\n    \n    for char in expression:\n        if char in pairs:  # é–‹æ‹¬è™Ÿ\n            stack.push(char)\n        elif char in pairs.values():  # é–‰æ‹¬è™Ÿ\n            if stack.is_empty():\n                return False\n            if pairs[stack.pop()] != char:\n                return False\n    \n    return stack.is_empty()\n\n# æ¸¬è©¦\nprint(is_balanced('()[]{}'))     # True\nprint(is_balanced('([{}])'))     # True\nprint(is_balanced('([)]'))       # False"
            },
        ];

        // åˆå§‹åŒ–ä¸»é¡Œé¸é …
        function initializeTopics() {
            const topicCounts = {};
            questionBank.forEach(q => {
                topicCounts[q.topic] = (topicCounts[q.topic] || 0) + 1;
            });
            
            const topics = Object.keys(topicCounts);
            const topicGrid = document.getElementById('topicGrid');
            topicGrid.innerHTML = '';
            
            topics.forEach(topic => {
                const topicItem = document.createElement('div');
                topicItem.className = 'topic-item selected';
                topicItem.innerHTML = `
                    <input type="checkbox" id="topic-${topic}" checked onchange="toggleTopic('${topic}')">
                    <div class="topic-info">
                        <div class="topic-name">${topic}</div>
                        <div class="topic-count">${topicCounts[topic]} é¡Œ</div>
                    </div>
                `;
                topicGrid.appendChild(topicItem);
            });
            
            selectedTopics = [...topics];
        }

        // åˆ‡æ›ä¸»é¡Œé¸æ“‡
        function toggleTopic(topic) {
            const checkbox = document.getElementById(`topic-${topic}`);
            const topicItem = checkbox.parentElement;
            
            if (checkbox.checked) {
                topicItem.classList.add('selected');
                if (!selectedTopics.includes(topic)) {
                    selectedTopics.push(topic);
                }
            } else {
                topicItem.classList.remove('selected');
                selectedTopics = selectedTopics.filter(t => t !== topic);
            }
        }

        // åˆ‡æ›é›£åº¦é¸æ“‡
        document.addEventListener('DOMContentLoaded', function() {
            const difficultyOptions = document.querySelectorAll('.difficulty-option');
            difficultyOptions.forEach(option => {
                const checkbox = option.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                });
            });
        });

        // é¸æ“‡é¡Œç›®æ•¸é‡
        function selectQuestionCount(count) {
            document.querySelectorAll('.count-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.classList.add('selected');
            questionCount = count;
        }

        // é–‹å§‹å®¢è£½åŒ–æ¸¬é©—
        function startCustomExam() {
            if (selectedTopics.length === 0) {
                alert('è«‹è‡³å°‘é¸æ“‡ä¸€å€‹è€ƒè©¦ç¯„åœï¼');
                return;
            }
            
            selectedDifficulties = [];
            if (document.getElementById('diff-easy').checked) selectedDifficulties.push('easy');
            if (document.getElementById('diff-medium').checked) selectedDifficulties.push('medium');
            if (document.getElementById('diff-hard').checked) selectedDifficulties.push('hard');
            
            if (selectedDifficulties.length === 0) {
                alert('è«‹è‡³å°‘é¸æ“‡ä¸€å€‹é›£åº¦ç­‰ç´šï¼');
                return;
            }
            
            let filteredQuestions = questionBank.filter(q => 
                selectedTopics.includes(q.topic) && 
                selectedDifficulties.includes(q.difficulty)
            );
            
            if (filteredQuestions.length < questionCount) {
                alert(`ç¬¦åˆæ¢ä»¶çš„é¡Œç›®åªæœ‰ ${filteredQuestions.length} é¡Œï¼Œå°‘æ–¼æ‰€é¸çš„ ${questionCount} é¡Œï¼`);
                return;
            }
            
            currentQuestions = shuffleArray(filteredQuestions).slice(0, questionCount);
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuestions.length).fill(null);
            
            timeLeft = questionCount * 2 * 60; // æ¯é¡Œ2åˆ†é˜
            examStartTime = new Date();
            
            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('statsBar').style.display = 'grid';
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('questionContainer').style.display = 'block';
            
            document.getElementById('totalQ').textContent = currentQuestions.length;
            
            startTimer();
            loadQuestion();
        }

        // æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // é–‹å§‹è¨ˆæ™‚å™¨
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endExam();
                }
            }, 1000);
        }

        // æ›´æ–°è¨ˆæ™‚å™¨é¡¯ç¤º
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timeLeft').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // è¼‰å…¥é¡Œç›®
        function loadQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('questionNum').textContent = currentQuestionIndex + 1;
            document.getElementById('currentQ').textContent = currentQuestionIndex + 1;
            document.getElementById('topicTag').textContent = question.topic;
            document.getElementById('difficultyTag').textContent = 
                question.difficulty === 'easy' ? 'ç°¡å–®' : 
                question.difficulty === 'medium' ? 'ä¸­ç­‰' : 'å›°é›£';
            document.getElementById('difficultyTag').className = `difficulty ${question.difficulty}`;
            
            document.getElementById('questionText').textContent = question.question;
            
            const codeBlock = document.getElementById('codeBlock');
            if (question.code) {
                codeBlock.textContent = question.code;
                codeBlock.style.display = 'block';
            } else {
                codeBlock.style.display = 'none';
            }
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.onclick = () => selectOption(index);
                
                const letter = String.fromCharCode(65 + index);
                optionElement.innerHTML = `
                    <div class="option-letter">${letter}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionsContainer.appendChild(optionElement);
            });
            
            if (userAnswers[currentQuestionIndex] !== null) {
                selectOption(userAnswers[currentQuestionIndex], false);
            }
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        // é¸æ“‡é¸é …
        function selectOption(index, updateAnswer = true) {
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            const options = document.querySelectorAll('.option');
            options[index].classList.add('selected');
            
            if (updateAnswer) {
                userAnswers[currentQuestionIndex] = index;
            }
        }

        // æäº¤ç­”æ¡ˆ
        function submitAnswer() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert('è«‹é¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼');
                return;
            }
            
            const question = currentQuestions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = userAnswer === question.correct;
            
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === userAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.style.display = 'block';
            
            const explanationContent = document.getElementById('explanationContent');
            explanationContent.innerHTML = `
                <p><strong>${isCorrect ? 'âœ… ç­”å°äº†ï¼' : 'âŒ ç­”éŒ¯äº†ï¼'}</strong></p>
                <p><strong>æ­£ç¢ºç­”æ¡ˆï¼š</strong>${String.fromCharCode(65 + question.correct)} - ${question.options[question.correct]}</p>
                <p><strong>è§£æï¼š</strong>${question.explanation}</p>
                ${question.reference ? `<p><strong>ğŸ“š åƒè€ƒè³‡æ–™ï¼š</strong>${question.reference}</p>` : ''}
                ${question.codeExample ? `<div class="code-example"><strong>ğŸ’» ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</strong><pre><code>${question.codeExample}</code></pre></div>` : ''}
            `;
            
            updateScore();
            
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        // æ›´æ–°åˆ†æ•¸
        function updateScore() {
            const correctAnswers = userAnswers.filter((answer, index) => 
                answer !== null && answer === currentQuestions[index].correct
            ).length;
            
            const score = Math.round((correctAnswers / currentQuestions.length) * 100);
            
            document.getElementById('currentScore').textContent = score;
            document.getElementById('correctCount').textContent = correctAnswers;
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                endExam();
            }
        }

        // ä¸Šä¸€é¡Œ
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        // çµæŸè€ƒè©¦
        function endExam() {
            clearInterval(timer);
            
            const correctAnswers = userAnswers.filter((answer, index) => 
                answer !== null && answer === currentQuestions[index].correct
            ).length;
            
            const totalQuestions = currentQuestions.length;
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            
            document.getElementById('statsBar').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'none';
            
            document.getElementById('finalScore').style.display = 'block';
            document.getElementById('scoreCircle').textContent = `${score}åˆ†`;
            
            let resultTitle, scoreMessage, circleColor;
            if (score >= 90) {
                resultTitle = 'ğŸ† å„ªç§€ï¼';
                scoreMessage = 'æ­å–œï¼æ‚¨çš„è¡¨ç¾éå¸¸å‡ºè‰²ï¼';
                circleColor = '#10b981';
            } else if (score >= 80) {
                resultTitle = 'ğŸ‰ è‰¯å¥½ï¼';
                scoreMessage = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒä¿æŒï¼';
                circleColor = '#3b82f6';
            } else if (score >= 60) {
                resultTitle = 'ğŸ‘ åŠæ ¼ï¼';
                scoreMessage = 'é€šéæ¸¬é©—ï¼é‚„æœ‰é€²æ­¥ç©ºé–“ï¼';
                circleColor = '#f59e0b';
            } else {
                resultTitle = 'ğŸ’ª åŠ æ²¹ï¼';
                scoreMessage = 'éœ€è¦æ›´å¤šç·´ç¿’ï¼Œä¸è¦æ”¾æ£„ï¼';
                circleColor = '#ef4444';
            }
            
            document.getElementById('resultTitle').textContent = resultTitle;
            document.getElementById('scoreMessage').textContent = scoreMessage;
            document.getElementById('scoreCircle').style.background = circleColor;
            
            showTopicStats();
        }

        // é¡¯ç¤ºä¸»é¡Œçµ±è¨ˆ
        function showTopicStats() {
            const topicStats = {};
            
            currentQuestions.forEach((question, index) => {
                const topic = question.topic;
                if (!topicStats[topic]) {
                    topicStats[topic] = { correct: 0, total: 0 };
                }
                topicStats[topic].total++;
                if (userAnswers[index] === question.correct) {
                    topicStats[topic].correct++;
                }
            });
            
            const topicStatsContainer = document.getElementById('topicStats');
            topicStatsContainer.innerHTML = '';
            
            Object.entries(topicStats).forEach(([topic, stats]) => {
                const percentage = Math.round((stats.correct / stats.total) * 100);
                const statElement = document.createElement('div');
                statElement.className = 'topic-stat';
                statElement.innerHTML = `
                    <h4>${topic}</h4>
                    <p>ç­”å°ï¼š${stats.correct} / ${stats.total} é¡Œ</p>
                    <p>æ­£ç¢ºç‡ï¼š${percentage}%</p>
                `;
                topicStatsContainer.appendChild(statElement);
            });
        }

        // è¿”å›è¨­å®šç•«é¢
        function backToSetup() {
            currentQuestions = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            timeLeft = 3600;
            
            document.getElementById('finalScore').style.display = 'none';
            document.getElementById('setupScreen').style.display = 'block';
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œè‡ªå‹•èšç„¦åˆ°å¸³è™Ÿè¼¸å…¥æ¡†
        window.addEventListener('load', () => {
            document.getElementById('username').focus();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96ef54e237df4a21',t:'MTc1NTE2Mjc1Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
